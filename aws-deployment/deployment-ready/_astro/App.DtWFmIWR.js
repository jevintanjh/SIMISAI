import{r as Yn,a as u,R as Xn,b as Wi,g as Gi,c as Ne}from"./index.DyRMqE-h.js";var At={exports:{}},Fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs;function Ki(){if(Xs)return Fe;Xs=1;var e=Yn(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,l,d){var f,h={},m=null,g=null;d!==void 0&&(m=""+d),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(g=l.ref);for(f in l)n.call(l,f)&&!i.hasOwnProperty(f)&&(h[f]=l[f]);if(c&&c.defaultProps)for(f in l=c.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:t,type:c,key:m,ref:g,props:h,_owner:o.current}}return Fe.Fragment=s,Fe.jsx=a,Fe.jsxs=a,Fe}var Js;function qi(){return Js||(Js=1,At.exports=Ki()),At.exports}var r=qi();function Qi(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,n,o,i,a=[],c="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)s=o[0],s==="*"?(a.push(s),c+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=o.indexOf("?",1),i=o.indexOf(".",1),a.push(o.substring(1,~n?n:~i?i:o.length)),c+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(c+=(~n?"?":"")+"\\"+o.substring(i))):c+="/"+o;return{keys:a,pattern:new RegExp("^"+c+(t?"(?=$|/)":"/?$"),"i")}}var Ot={exports:{}},Mt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs;function Yi(){if(Zs)return Mt;Zs=1;var e=Yn();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var s=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function c(h,m){var g=m(),b=n({inst:{value:g,getSnapshot:m}}),x=b[0].inst,p=b[1];return i(function(){x.value=g,x.getSnapshot=m,l(x)&&p({inst:x})},[h,g,m]),o(function(){return l(x)&&p({inst:x}),h(function(){l(x)&&p({inst:x})})},[h]),a(g),g}function l(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!s(h,g)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Mt.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Mt}var en;function Xi(){return en||(en=1,Ot.exports=Yi()),Ot.exports}var Ji=Xi();const Zi=Xn.useInsertionEffect,ea=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ta=ea?u.useLayoutEffect:u.useEffect,sa=Zi||ta,Jn=e=>{const t=u.useRef([e,(...s)=>t[0](...s)]).current;return sa(()=>{t[0]=e}),t[1]},na="popstate",gs="pushState",xs="replaceState",ra="hashchange",tn=[na,gs,xs,ra],oa=e=>{for(const t of tn)addEventListener(t,e);return()=>{for(const t of tn)removeEventListener(t,e)}},Zn=(e,t)=>Ji.useSyncExternalStore(oa,e,t),ia=()=>location.search,aa=({ssrSearch:e=""}={})=>Zn(ia,()=>e),sn=()=>location.pathname,ca=({ssrPath:e}={})=>Zn(sn,e?()=>e:sn),la=(e,{replace:t=!1,state:s=null}={})=>history[t?xs:gs](s,"",e),da=(e={})=>[ca(e),la],nn=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[nn]>"u"){for(const e of[gs,xs]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,nn,{value:!0})}const ua=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",er=(e="")=>e==="/"?"":e,fa=(e,t)=>e[0]==="~"?e.slice(1):er(t)+e,ha=(e="",t)=>ua(rn(er(e)),rn(t)),rn=e=>{try{return decodeURI(e)}catch{return e}},tr={hook:da,searchHook:aa,parser:Qi,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},sr=u.createContext(tr),gt=()=>u.useContext(sr),nr={},rr=u.createContext(nr),ma=()=>u.useContext(rr),bs=e=>{const[t,s]=e.hook(e);return[ha(e.base,t),Jn((n,o)=>s(fa(n,e.base),o))]},or=(e,t,s,n)=>{const{pattern:o,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),a=o.exec(s)||[],[c,...l]=a;return c!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,m)=>[h,l[m]])):a.groups;let f={...l};return d&&Object.assign(f,d),f})(),...n?[c]:[]]:[!1,null]},pa=({children:e,...t})=>{const s=gt(),n=t.hook?tr:s;let o=n;const[i,a]=t.ssrPath?.split("?")??[];a&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs;let c=u.useRef({}),l=c.current,d=l;for(let f in n){const h=f==="base"?n[f]+(t[f]||""):t[f]||n[f];l===d&&h!==d[f]&&(c.current=d={...d}),d[f]=h,h!==n[f]&&(o=d)}return u.createElement(sr.Provider,{value:o,children:e})},on=({children:e,component:t},s)=>t?u.createElement(t,{params:s}):typeof e=="function"?e(s):e,ga=e=>{let t=u.useRef(nr),s=t.current;for(const n in e)e[n]!==s[n]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},an=({path:e,nest:t,match:s,...n})=>{const o=gt(),[i]=bs(o),[a,c,l]=s??or(o.parser,e,i,t),d=ga({...ma(),...c});if(!a)return null;const f=l?u.createElement(pa,{base:l},on(n,d)):on(n,d);return u.createElement(rr.Provider,{value:d,children:f})};u.forwardRef((e,t)=>{const s=gt(),[n,o]=bs(s),{to:i="",href:a=i,onClick:c,asChild:l,children:d,className:f,replace:h,state:m,...g}=e,b=Jn(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(c?.(p),p.defaultPrevented||(p.preventDefault(),o(a,e)))}),x=s.hrefs(a[0]==="~"?a.slice(1):s.base+a,s);return l&&u.isValidElement(d)?u.cloneElement(d,{onClick:b,href:x}):u.createElement("a",{...g,onClick:b,href:x,className:f?.call?f(n===a):f,children:d,ref:t})});const ir=e=>Array.isArray(e)?e.flatMap(t=>ir(t&&t.type===u.Fragment?t.props.children:t)):[e],xa=({children:e,location:t})=>{const s=gt(),[n]=bs(s);for(const o of ir(e)){let i=0;if(u.isValidElement(o)&&(i=or(s.parser,o.props.path,t||n,o.props.nest))[0])return u.cloneElement(o,{match:i})}return null};var Qe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Se=typeof window>"u"||"Deno"in globalThis;function re(){}function ba(e,t){return typeof e=="function"?e(t):e}function Gt(e){return typeof e=="number"&&e>=0&&e!==1/0}function ar(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ee(e,t){return typeof e=="function"?e(t):e}function oe(e,t){return typeof e=="function"?e(t):e}function cn(e,t){const{type:s="all",exact:n,fetchStatus:o,predicate:i,queryKey:a,stale:c}=e;if(a){if(n){if(t.queryHash!==vs(a,t.options))return!1}else if(!We(t.queryKey,a))return!1}if(s!=="all"){const l=t.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||o&&o!==t.state.fetchStatus||i&&!i(t))}function ln(e,t){const{exact:s,status:n,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(He(t.options.mutationKey)!==He(i))return!1}else if(!We(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function vs(e,t){return(t?.queryKeyHashFn||He)(e)}function He(e){return JSON.stringify(e,(t,s)=>qt(s)?Object.keys(s).sort().reduce((n,o)=>(n[o]=s[o],n),{}):s)}function We(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!We(e[s],t[s])):!1}function cr(e,t){if(e===t)return e;const s=dn(e)&&dn(t);if(s||qt(e)&&qt(t)){const n=s?e:Object.keys(e),o=n.length,i=s?t:Object.keys(t),a=i.length,c=s?[]:{};let l=0;for(let d=0;d<a;d++){const f=s?d:i[d];(!s&&n.includes(f)||s)&&e[f]===void 0&&t[f]===void 0?(c[f]=void 0,l++):(c[f]=cr(e[f],t[f]),c[f]===e[f]&&e[f]!==void 0&&l++)}return o===a&&l===o?e:c}return t}function Kt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function dn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qt(e){if(!un(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!un(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function un(e){return Object.prototype.toString.call(e)==="[object Object]"}function va(e){return new Promise(t=>{setTimeout(t,e)})}function Qt(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?cr(e,t):t}function ya(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function wa(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var ys=Symbol();function lr(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ys?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ja=class extends Qe{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Se&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ws=new ja,Na=class extends Qe{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Se&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},ct=new Na;function Yt(){let e,t;const s=new Promise((o,i)=>{e=o,t=i});s.status="pending",s.catch(()=>{});function n(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},s.reject=o=>{n({status:"rejected",reason:o}),t(o)},s}function Sa(e){return Math.min(1e3*2**e,3e4)}function dr(e){return(e??"online")==="online"?ct.isOnline():!0}var ur=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Dt(e){return e instanceof ur}function fr(e){let t=!1,s=0,n=!1,o;const i=Yt(),a=x=>{n||(m(new ur(x)),e.abort?.())},c=()=>{t=!0},l=()=>{t=!1},d=()=>ws.isFocused()&&(e.networkMode==="always"||ct.isOnline())&&e.canRun(),f=()=>dr(e.networkMode)&&e.canRun(),h=x=>{n||(n=!0,e.onSuccess?.(x),o?.(),i.resolve(x))},m=x=>{n||(n=!0,e.onError?.(x),o?.(),i.reject(x))},g=()=>new Promise(x=>{o=p=>{(n||d())&&x(p)},e.onPause?.()}).then(()=>{o=void 0,n||e.onContinue?.()}),b=()=>{if(n)return;let x;const p=s===0?e.initialPromise:void 0;try{x=p??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(h).catch(v=>{if(n)return;const y=e.retry??(Se?0:3),w=e.retryDelay??Sa,j=typeof w=="function"?w(s,v):w,N=y===!0||typeof y=="number"&&s<y||typeof y=="function"&&y(s,v);if(t||!N){m(v);return}s++,e.onFail?.(s,v),va(j).then(()=>d()?void 0:g()).then(()=>{t?m(v):b()})})};return{promise:i,cancel:a,continue:()=>(o?.(),i),cancelRetry:c,continueRetry:l,canStart:f,start:()=>(f()?b():g().then(b),i)}}function Ca(){let e=[],t=0,s=c=>{c()},n=c=>{c()},o=c=>setTimeout(c,0);const i=c=>{t?e.push(c):o(()=>{s(c)})},a=()=>{const c=e;e=[],c.length&&o(()=>{n(()=>{c.forEach(l=>{s(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||a()}return l},batchCalls:c=>(...l)=>{i(()=>{c(...l)})},schedule:i,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{o=c}}}var Z=Ca(),hr=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gt(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Se?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Ea=class extends hr{#e;#t;#n;#s;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ka(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=Qt(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(re).catch(re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>oe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ys||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ar(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}const s=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const c=lr(this.options,t),l={queryKey:this.queryKey,meta:this.meta};return n(l),this.#o=!1,this.options.persister?this.options.persister(c,l,this):c(l)},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#r({type:"fetch",meta:i.fetchOptions?.meta});const a=c=>{Dt(c)&&c.silent||this.#r({type:"error",error:c}),Dt(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#s=fr({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:s.abort.bind(s),onSuccess:c=>{if(c===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(l){a(l);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:a,onFail:(c,l)=>{this.#r({type:"failed",failureCount:c,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#s.start()}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...mr(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Dt(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Z.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function mr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dr(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ka(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ra=class extends Qe{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const n=t.queryKey,o=t.queryHash??vs(n,t);let i=this.get(o);return i||(i=new Ea({cache:this,queryKey:n,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>cn(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>cn(e,s)):t}notify(e){Z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pa=class extends hr{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Ta(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=fr({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,o)=>{this.#s({type:"failed",failureCount:n,error:o})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",s=!this.#n.canStart();try{if(!t){this.#s({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#s({type:"pending",context:o,variables:e,isPaused:s})}const n=await this.#n.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#s({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#s({type:"error",error:n})}}finally{this.#t.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Z.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Ta(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ia=class extends Qe{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,s){const n=new Pa({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){const t=Je(e),s=this.#e.get(t)??[];s.push(e),this.#e.set(t,s),this.notify({type:"added",mutation:e})}remove(e){const t=Je(e);if(this.#e.has(t)){const s=this.#e.get(t)?.filter(n=>n!==e);s&&(s.length===0?this.#e.delete(t):this.#e.set(t,s))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Je(e))?.find(s=>s.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Je(e))?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve()}clear(){Z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ln(t,s))}findAll(e={}){return this.getAll().filter(t=>ln(e,t))}notify(e){Z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Z.batch(()=>Promise.all(e.map(t=>t.continue().catch(re))))}};function Je(e){return e.options.scope?.id??String(e.mutationId)}function fn(e){return{onFetch:(t,s)=>{const n=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},l=0;const d=async()=>{let f=!1;const h=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},m=lr(t.options,t.fetchOptions),g=async(b,x,p)=>{if(f)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const v={queryKey:t.queryKey,pageParam:x,direction:p?"backward":"forward",meta:t.options.meta};h(v);const y=await m(v),{maxPages:w}=t.options,j=p?wa:ya;return{pages:j(b.pages,y,w),pageParams:j(b.pageParams,x,w)}};if(o&&i.length){const b=o==="backward",x=b?Aa:hn,p={pages:i,pageParams:a},v=x(n,p);c=await g(p,v,b)}else{const b=e??i.length;do{const x=l===0?a[0]??n.initialPageParam:hn(n,c);if(l>0&&x==null)break;c=await g(c,x),l++}while(l<b)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=d}}}function hn(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function Aa(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var Oa=class{#e;#t;#n;#s;#i;#o;#r;#a;constructor(e={}){this.#e=e.queryCache||new Ra,this.#t=e.mutationCache||new Ia,this.#n=e.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#r=ws.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ct.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#r?.(),this.#r=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),n=this.#e.build(this,s);return e.revalidateIfStale&&n.isStaleByTime(Ee(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,a=ba(t,i);if(a!==void 0)return this.#e.build(this,n).setData(a,{...s,manual:!0})}setQueriesData(e,t,s){return Z.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Z.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e,n={type:"active",...e};return Z.batch(()=>(s.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},n=Z.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(n).then(re).catch(re)}invalidateQueries(e={},t={}){return Z.batch(()=>{if(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:t?.cancelRefetch??!0},n=Z.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()).map(o=>{let i=o.fetch(void 0,s);return s.throwOnError||(i=i.catch(re)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(re)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Ee(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(re).catch(re)}fetchInfiniteQuery(e){return e.behavior=fn(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(re).catch(re)}ensureInfiniteQueryData(e){return e.behavior=fn(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ct.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(He(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()];let s={};return t.forEach(n=>{We(e,n.queryKey)&&(s={...s,...n.defaultOptions})}),s}setMutationDefaults(e,t){this.#i.set(He(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let s={};return t.forEach(n=>{We(e,n.mutationKey)&&(s={...s,...n.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vs(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ys&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ma=class extends Qe{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#r=Yt(),this.options.experimental_prefetchInRender||this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#i;#o;#r;#a;#p;#f;#h;#l;#d;#c;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),mn(this.#t,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xt(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xt(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#t.removeObserver(this)}setOptions(e,t){const s=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof oe(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),s._defaulted&&!Kt(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&pn(this.#t,n,this.options,s)&&this.#u(),this.updateResult(t),o&&(this.#t!==n||oe(this.options.enabled,this.#t)!==oe(s.enabled,this.#t)||Ee(this.options.staleTime,this.#t)!==Ee(s.staleTime,this.#t))&&this.#g();const i=this.#x();o&&(this.#t!==n||oe(this.options.enabled,this.#t)!==oe(s.enabled,this.#t)||i!==this.#c)&&this.#b(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return Fa(this,s)&&(this.#s=s,this.#o=this.options,this.#i=this.#t.state),s}getCurrentResult(){return this.#s}trackResult(e,t){const s={};return Object.keys(e).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t?.(n),e[n])})}),s}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#u(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(re)),t}#g(){this.#y();const e=Ee(this.options.staleTime,this.#t);if(Se||this.#s.isStale||!Gt(e))return;const s=ar(this.#s.dataUpdatedAt,e)+1;this.#l=setTimeout(()=>{this.#s.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#w(),this.#c=e,!(Se||oe(this.options.enabled,this.#t)===!1||!Gt(this.#c)||this.#c===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||ws.isFocused())&&this.#u()},this.#c))}#v(){this.#g(),this.#b(this.#x())}#y(){this.#l&&(clearTimeout(this.#l),this.#l=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const s=this.#t,n=this.options,o=this.#s,i=this.#i,a=this.#o,l=e!==s?e.state:this.#n,{state:d}=e;let f={...d},h=!1,m;if(t._optimisticResults){const k=this.hasListeners(),S=!k&&mn(e,t),C=k&&pn(e,s,t,n);(S||C)&&(f={...f,...mr(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:x}=f;if(t.select&&f.data!==void 0)if(o&&f.data===i?.data&&t.select===this.#p)m=this.#f;else try{this.#p=t.select,m=t.select(f.data),m=Qt(o?.data,m,t),this.#f=m,this.#a=null}catch(k){this.#a=k}else m=f.data;if(t.placeholderData!==void 0&&m===void 0&&x==="pending"){let k;if(o?.isPlaceholderData&&t.placeholderData===a?.placeholderData)k=o.data;else if(k=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&k!==void 0)try{k=t.select(k),this.#a=null}catch(S){this.#a=S}k!==void 0&&(x="success",m=Qt(o?.data,k,t),h=!0)}this.#a&&(g=this.#a,m=this.#f,b=Date.now(),x="error");const p=f.fetchStatus==="fetching",v=x==="pending",y=x==="error",w=v&&p,j=m!==void 0,E={status:x,fetchStatus:f.fetchStatus,isPending:v,isSuccess:x==="success",isError:y,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:p,isRefetching:p&&!v,isLoadingError:y&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:y&&j,isStale:js(e,t),refetch:this.refetch,promise:this.#r};if(this.options.experimental_prefetchInRender){const k=O=>{E.status==="error"?O.reject(E.error):E.data!==void 0&&O.resolve(E.data)},S=()=>{const O=this.#r=E.promise=Yt();k(O)},C=this.#r;switch(C.status){case"pending":e.queryHash===s.queryHash&&k(C);break;case"fulfilled":(E.status==="error"||E.data!==C.value)&&S();break;case"rejected":(E.status!=="error"||E.error!==C.reason)&&S();break}}return E}updateResult(e){const t=this.#s,s=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Kt(s,t))return;this.#s=s;const n={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#m.size)return!0;const c=new Set(a??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#s).some(l=>{const d=l;return this.#s[d]!==t[d]&&c.has(d)})};e?.listeners!==!1&&o()&&(n.listeners=!0),this.#N({...n,...e})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){Z.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Da(e,t){return oe(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mn(e,t){return Da(e,t)||e.state.data!==void 0&&Xt(e,t,t.refetchOnMount)}function Xt(e,t,s){if(oe(t.enabled,e)!==!1){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&js(e,t)}return!1}function pn(e,t,s,n){return(e!==t||oe(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&js(e,s)}function js(e,t){return oe(t.enabled,e)!==!1&&e.isStaleByTime(Ee(t.staleTime,e))}function Fa(e,t){return!Kt(e.getCurrentResult(),t)}var pr=u.createContext(void 0),gr=e=>{const t=u.useContext(pr);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},La=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(pr.Provider,{value:e,children:t})),xr=u.createContext(!1),_a=()=>u.useContext(xr);xr.Provider;function Ba(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $a=u.createContext(Ba()),za=()=>u.useContext($a);function Va(e,t){return typeof e=="function"?e(...t):!!e}function gn(){}var Ua=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ha=e=>{u.useEffect(()=>{e.clearReset()},[e])},Wa=({result:e,errorResetBoundary:t,throwOnError:s,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&Va(s,[e.error,n]),Ga=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Ka=(e,t)=>e.isLoading&&e.isFetching&&!t,qa=(e,t)=>e?.suspense&&t.isPending,xn=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Qa(e,t,s){const n=gr(),o=_a(),i=za(),a=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=o?"isRestoring":"optimistic",Ga(a),Ua(a,i),Ha(i);const c=!n.getQueryCache().get(a.queryHash),[l]=u.useState(()=>new t(n,a)),d=l.getOptimisticResult(a);if(u.useSyncExternalStore(u.useCallback(f=>{const h=o?gn:l.subscribe(Z.batchCalls(f));return l.updateResult(),h},[l,o]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),qa(a,d))throw xn(a,l,i);if(Wa({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw d.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Se&&Ka(d,o)&&(c?xn(a,l,i):n.getQueryCache().get(a.queryHash)?.promise)?.catch(gn).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?d:l.trackResult(d)}function br(e,t){return Qa(e,Ma)}async function Ya(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const Xa=({on401:e})=>async({queryKey:t})=>{const s=await fetch(t.join("/"),{credentials:"include"});return await Ya(s),await s.json()},Ja=new Oa({defaultOptions:{queries:{queryFn:Xa({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Za=1,ec=1e6;let Ft=0;function tc(){return Ft=(Ft+1)%Number.MAX_SAFE_INTEGER,Ft.toString()}const Lt=new Map,bn=e=>{if(Lt.has(e))return;const t=setTimeout(()=>{Lt.delete(e),ze({type:"REMOVE_TOAST",toastId:e})},ec);Lt.set(e,t)},sc=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Za)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?bn(s):e.toasts.forEach(n=>{bn(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},st=[];let nt={toasts:[]};function ze(e){nt=sc(nt,e),st.forEach(t=>{t(nt)})}function nc({...e}){const t=tc(),s=o=>ze({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>ze({type:"DISMISS_TOAST",toastId:t});return ze({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:s}}function rc(){const[e,t]=u.useState(nt);return u.useEffect(()=>(st.push(t),()=>{const s=st.indexOf(t);s>-1&&st.splice(s,1)}),[e]),{...e,toast:nc,dismiss:s=>ze({type:"DISMISS_TOAST",toastId:s})}}var xt=Wi();const oc=Gi(xt);function U(e,t,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return t?.(o)}}function vn(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vr(...e){return t=>{let s=!1;const n=e.map(o=>{const i=vn(o,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let o=0;o<n.length;o++){const i=n[o];typeof i=="function"?i():vn(e[o],null)}}}}function J(...e){return u.useCallback(vr(...e),e)}function pe(e,t=[]){let s=[];function n(i,a){const c=u.createContext(a),l=s.length;s=[...s,a];const d=h=>{const{scope:m,children:g,...b}=h,x=m?.[e]?.[l]||c,p=u.useMemo(()=>b,Object.values(b));return r.jsx(x.Provider,{value:p,children:g})};d.displayName=i+"Provider";function f(h,m){const g=m?.[e]?.[l]||c,b=u.useContext(g);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const o=()=>{const i=s.map(a=>u.createContext(a));return function(c){const l=c?.[e]||i;return u.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return o.scopeName=e,[n,ic(o,...t)]}function ic(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=n.reduce((c,{useScope:l,scopeName:d})=>{const h=l(i)[`__scope${d}`];return{...c,...h}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}function lt(e){const t=cc(e),s=u.forwardRef((n,o)=>{const{children:i,...a}=n,c=u.Children.toArray(i),l=c.find(dc);if(l){const d=l.props.children,f=c.map(h=>h===l?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...a,ref:o,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return r.jsx(t,{...a,ref:o,children:i})});return s.displayName=`${e}.Slot`,s}var ac=lt("Slot");function cc(e){const t=u.forwardRef((s,n)=>{const{children:o,...i}=s;if(u.isValidElement(o)){const a=fc(o),c=uc(i,o.props);return o.type!==u.Fragment&&(c.ref=n?vr(n,a):a),u.cloneElement(o,c)}return u.Children.count(o)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yr=Symbol("radix.slottable");function lc(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=yr,t}function dc(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yr}function uc(e,t){const s={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?s[n]=(...c)=>{i(...c),o(...c)}:o&&(s[n]=o):n==="style"?s[n]={...o,...i}:n==="className"&&(s[n]=[o,i].filter(Boolean).join(" "))}return{...e,...s}}function fc(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Ns(e){const t=e+"CollectionProvider",[s,n]=pe(t),[o,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:p,children:v}=x,y=Ne.useRef(null),w=Ne.useRef(new Map).current;return r.jsx(o,{scope:p,itemMap:w,collectionRef:y,children:v})};a.displayName=t;const c=e+"CollectionSlot",l=lt(c),d=Ne.forwardRef((x,p)=>{const{scope:v,children:y}=x,w=i(c,v),j=J(p,w.collectionRef);return r.jsx(l,{ref:j,children:y})});d.displayName=c;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=lt(f),g=Ne.forwardRef((x,p)=>{const{scope:v,children:y,...w}=x,j=Ne.useRef(null),N=J(p,j),E=i(f,v);return Ne.useEffect(()=>(E.itemMap.set(j,{ref:j,...w}),()=>void E.itemMap.delete(j))),r.jsx(m,{[h]:"",ref:N,children:y})});g.displayName=f;function b(x){const p=i(e+"CollectionConsumer",x);return Ne.useCallback(()=>{const y=p.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(p.itemMap.values()).sort((E,k)=>w.indexOf(E.ref.current)-w.indexOf(k.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:a,Slot:d,ItemSlot:g},b,n]}var hc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],H=hc.reduce((e,t)=>{const s=lt(`Primitive.${t}`),n=u.forwardRef((o,i)=>{const{asChild:a,...c}=o,l=a?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function wr(e,t){e&&xt.flushSync(()=>e.dispatchEvent(t))}function ie(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...s)=>t.current?.(...s),[])}function mc(e,t=globalThis?.document){const s=ie(e);u.useEffect(()=>{const n=o=>{o.key==="Escape"&&s(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var pc="DismissableLayer",Jt="dismissableLayer.update",gc="dismissableLayer.pointerDownOutside",xc="dismissableLayer.focusOutside",yn,jr=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ss=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...l}=e,d=u.useContext(jr),[f,h]=u.useState(null),m=f?.ownerDocument??globalThis?.document,[,g]=u.useState({}),b=J(t,k=>h(k)),x=Array.from(d.layers),[p]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(p),y=f?x.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=y>=v,N=vc(k=>{const S=k.target,C=[...d.branches].some(O=>O.contains(S));!j||C||(o?.(k),a?.(k),k.defaultPrevented||c?.())},m),E=yc(k=>{const S=k.target;[...d.branches].some(O=>O.contains(S))||(i?.(k),a?.(k),k.defaultPrevented||c?.())},m);return mc(k=>{y===d.layers.size-1&&(n?.(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},m),u.useEffect(()=>{if(f)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yn=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),wn(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=yn)}},[f,m,s,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),wn())},[f,d]),u.useEffect(()=>{const k=()=>g({});return document.addEventListener(Jt,k),()=>document.removeEventListener(Jt,k)},[]),r.jsx(H.div,{...l,ref:b,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,E.onFocusCapture),onBlurCapture:U(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,N.onPointerDownCapture)})});Ss.displayName=pc;var bc="DismissableLayerBranch",Nr=u.forwardRef((e,t)=>{const s=u.useContext(jr),n=u.useRef(null),o=J(t,n);return u.useEffect(()=>{const i=n.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),r.jsx(H.div,{...e,ref:o})});Nr.displayName=bc;function vc(e,t=globalThis?.document){const s=ie(e),n=u.useRef(!1),o=u.useRef(()=>{});return u.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){Sr(gc,s,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function yc(e,t=globalThis?.document){const s=ie(e),n=u.useRef(!1);return u.useEffect(()=>{const o=i=>{i.target&&!n.current&&Sr(xc,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wn(){const e=new CustomEvent(Jt);document.dispatchEvent(e)}function Sr(e,t,s,{discrete:n}){const o=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),n?wr(o,i):o.dispatchEvent(i)}var wc=Ss,jc=Nr,ve=globalThis?.document?u.useLayoutEffect:()=>{},Nc="Portal",Cr=u.forwardRef((e,t)=>{const{container:s,...n}=e,[o,i]=u.useState(!1);ve(()=>i(!0),[]);const a=s||o&&globalThis?.document?.body;return a?oc.createPortal(r.jsx(H.div,{...n,ref:t}),a):null});Cr.displayName=Nc;function Sc(e,t){return u.useReducer((s,n)=>t[s][n]??s,e)}var bt=e=>{const{present:t,children:s}=e,n=Cc(t),o=typeof s=="function"?s({present:n.isPresent}):u.Children.only(s),i=J(n.ref,Ec(o));return typeof s=="function"||n.isPresent?u.cloneElement(o,{ref:i}):null};bt.displayName="Presence";function Cc(e){const[t,s]=u.useState(),n=u.useRef({}),o=u.useRef(e),i=u.useRef("none"),a=e?"mounted":"unmounted",[c,l]=Sc(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Ze(n.current);i.current=c==="mounted"?d:"none"},[c]),ve(()=>{const d=n.current,f=o.current;if(f!==e){const m=i.current,g=Ze(d);e?l("MOUNT"):g==="none"||d?.display==="none"?l("UNMOUNT"):l(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),ve(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,h=g=>{const x=Ze(n.current).includes(g.animationName);if(g.target===t&&x&&(l("ANIMATION_END"),!o.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},m=g=>{g.target===t&&(i.current=Ze(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:u.useCallback(d=>{d&&(n.current=getComputedStyle(d)),s(d)},[])}}function Ze(e){return e?.animationName||"none"}function Ec(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function vt({prop:e,defaultProp:t,onChange:s=()=>{}}){const[n,o]=kc({defaultProp:t,onChange:s}),i=e!==void 0,a=i?e:n,c=ie(s),l=u.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&c(h)}else o(d)},[i,e,o,c]);return[a,l]}function kc({defaultProp:e,onChange:t}){const s=u.useState(e),[n]=s,o=u.useRef(n),i=ie(t);return u.useEffect(()=>{o.current!==n&&(i(n),o.current=n)},[n,o,i]),s}var Rc="VisuallyHidden",yt=u.forwardRef((e,t)=>r.jsx(H.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));yt.displayName=Rc;var Pc=yt,Cs="ToastProvider",[Es,Tc,Ic]=Ns("Toast"),[Er,Xh]=pe("Toast",[Ic]),[Ac,wt]=Er(Cs),kr=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:a}=e,[c,l]=u.useState(null),[d,f]=u.useState(0),h=u.useRef(!1),m=u.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cs}\`. Expected non-empty \`string\`.`),r.jsx(Es.Provider,{scope:t,children:r.jsx(Ac,{scope:t,label:s,duration:n,swipeDirection:o,swipeThreshold:i,toastCount:d,viewport:c,onViewportChange:l,onToastAdd:u.useCallback(()=>f(g=>g+1),[]),onToastRemove:u.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:a})})};kr.displayName=Cs;var Rr="ToastViewport",Oc=["F8"],Zt="toast.viewportPause",es="toast.viewportResume",Pr=u.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=Oc,label:o="Notifications ({hotkey})",...i}=e,a=wt(Rr,s),c=Tc(s),l=u.useRef(null),d=u.useRef(null),f=u.useRef(null),h=u.useRef(null),m=J(t,h,a.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;u.useEffect(()=>{const p=v=>{n.length!==0&&n.every(w=>v[w]||v.code===w)&&h.current?.focus()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),u.useEffect(()=>{const p=l.current,v=h.current;if(b&&p&&v){const y=()=>{if(!a.isClosePausedRef.current){const E=new CustomEvent(Zt);v.dispatchEvent(E),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const E=new CustomEvent(es);v.dispatchEvent(E),a.isClosePausedRef.current=!1}},j=E=>{!p.contains(E.relatedTarget)&&w()},N=()=>{p.contains(document.activeElement)||w()};return p.addEventListener("focusin",y),p.addEventListener("focusout",j),p.addEventListener("pointermove",y),p.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{p.removeEventListener("focusin",y),p.removeEventListener("focusout",j),p.removeEventListener("pointermove",y),p.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,a.isClosePausedRef]);const x=u.useCallback(({tabbingDirection:p})=>{const y=c().map(w=>{const j=w.ref.current,N=[j,...Gc(j)];return p==="forwards"?N:N.reverse()});return(p==="forwards"?y.reverse():y).flat()},[c]);return u.useEffect(()=>{const p=h.current;if(p){const v=y=>{const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const N=document.activeElement,E=y.shiftKey;if(y.target===p&&E){d.current?.focus();return}const C=x({tabbingDirection:E?"backwards":"forwards"}),O=C.findIndex(T=>T===N);_t(C.slice(O+1))?y.preventDefault():E?d.current?.focus():f.current?.focus()}};return p.addEventListener("keydown",v),()=>p.removeEventListener("keydown",v)}},[c,x]),r.jsxs(jc,{ref:l,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&r.jsx(ts,{ref:d,onFocusFromOutsideViewport:()=>{const p=x({tabbingDirection:"forwards"});_t(p)}}),r.jsx(Es.Slot,{scope:s,children:r.jsx(H.ol,{tabIndex:-1,...i,ref:m})}),b&&r.jsx(ts,{ref:f,onFocusFromOutsideViewport:()=>{const p=x({tabbingDirection:"backwards"});_t(p)}})]})});Pr.displayName=Rr;var Tr="ToastFocusProxy",ts=u.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...o}=e,i=wt(Tr,s);return r.jsx(yt,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:a=>{const c=a.relatedTarget;!i.viewport?.contains(c)&&n()}})});ts.displayName=Tr;var jt="Toast",Mc="toast.swipeStart",Dc="toast.swipeMove",Fc="toast.swipeCancel",Lc="toast.swipeEnd",Ir=u.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:o,onOpenChange:i,...a}=e,[c=!0,l]=vt({prop:n,defaultProp:o,onChange:i});return r.jsx(bt,{present:s||c,children:r.jsx($c,{open:c,...a,ref:t,onClose:()=>l(!1),onPause:ie(e.onPause),onResume:ie(e.onResume),onSwipeStart:U(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:U(e.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:U(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:U(e.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Ir.displayName=jt;var[_c,Bc]=Er(jt,{onClose(){}}),$c=u.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:o,open:i,onClose:a,onEscapeKeyDown:c,onPause:l,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...b}=e,x=wt(jt,s),[p,v]=u.useState(null),y=J(t,R=>v(R)),w=u.useRef(null),j=u.useRef(null),N=o||x.duration,E=u.useRef(0),k=u.useRef(N),S=u.useRef(0),{onToastAdd:C,onToastRemove:O}=x,T=ie(()=>{p?.contains(document.activeElement)&&x.viewport?.focus(),a()}),P=u.useCallback(R=>{!R||R===1/0||(window.clearTimeout(S.current),E.current=new Date().getTime(),S.current=window.setTimeout(T,R))},[T]);u.useEffect(()=>{const R=x.viewport;if(R){const D=()=>{P(k.current),d?.()},I=()=>{const _=new Date().getTime()-E.current;k.current=k.current-_,window.clearTimeout(S.current),l?.()};return R.addEventListener(Zt,I),R.addEventListener(es,D),()=>{R.removeEventListener(Zt,I),R.removeEventListener(es,D)}}},[x.viewport,N,l,d,P]),u.useEffect(()=>{i&&!x.isClosePausedRef.current&&P(N)},[i,N,x.isClosePausedRef,P]),u.useEffect(()=>(C(),()=>O()),[C,O]);const M=u.useMemo(()=>p?_r(p):null,[p]);return x.viewport?r.jsxs(r.Fragment,{children:[M&&r.jsx(zc,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),r.jsx(_c,{scope:s,onClose:T,children:xt.createPortal(r.jsx(Es.ItemSlot,{scope:s,children:r.jsx(wc,{asChild:!0,onEscapeKeyDown:U(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||T(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(H.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:U(e.onKeyDown,R=>{R.key==="Escape"&&(c?.(R.nativeEvent),R.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:U(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:U(e.onPointerMove,R=>{if(!w.current)return;const D=R.clientX-w.current.x,I=R.clientY-w.current.y,_=!!j.current,F=["left","right"].includes(x.swipeDirection),z=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Q=F?z(0,D):0,q=F?0:z(0,I),ee=R.pointerType==="touch"?10:2,A={x:Q,y:q},X={originalEvent:R,delta:A};_?(j.current=A,et(Dc,h,X,{discrete:!1})):jn(A,x.swipeDirection,ee)?(j.current=A,et(Mc,f,X,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(D)>ee||Math.abs(I)>ee)&&(w.current=null)}),onPointerUp:U(e.onPointerUp,R=>{const D=j.current,I=R.target;if(I.hasPointerCapture(R.pointerId)&&I.releasePointerCapture(R.pointerId),j.current=null,w.current=null,D){const _=R.currentTarget,F={originalEvent:R,delta:D};jn(D,x.swipeDirection,x.swipeThreshold)?et(Lc,g,F,{discrete:!0}):et(Fc,m,F,{discrete:!0}),_.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),zc=e=>{const{__scopeToast:t,children:s,...n}=e,o=wt(jt,t),[i,a]=u.useState(!1),[c,l]=u.useState(!1);return Hc(()=>a(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:r.jsx(Cr,{asChild:!0,children:r.jsx(yt,{...n,children:i&&r.jsxs(r.Fragment,{children:[o.label," ",s]})})})},Vc="ToastTitle",Ar=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(H.div,{...n,ref:t})});Ar.displayName=Vc;var Uc="ToastDescription",Or=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(H.div,{...n,ref:t})});Or.displayName=Uc;var Mr="ToastAction",Dr=u.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(Lr,{altText:s,asChild:!0,children:r.jsx(ks,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Mr}\`. Expected non-empty \`string\`.`),null)});Dr.displayName=Mr;var Fr="ToastClose",ks=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,o=Bc(Fr,s);return r.jsx(Lr,{asChild:!0,children:r.jsx(H.button,{type:"button",...n,ref:t,onClick:U(e.onClick,o.onClose)})})});ks.displayName=Fr;var Lr=u.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...o}=e;return r.jsx(H.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function _r(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Wc(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(..._r(n))}}),t}function et(e,t,s,{discrete:n}){const o=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),n?wr(o,i):o.dispatchEvent(i)}var jn=(e,t,s=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),i=n>o;return t==="left"||t==="right"?i&&n>s:!i&&o>s};function Hc(e=()=>{}){const t=ie(e);ve(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function Wc(e){return e.nodeType===e.ELEMENT_NODE}function Gc(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function _t(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var Kc=kr,Br=Pr,$r=Ir,zr=Ar,Vr=Or,Ur=Dr,Hr=ks;function Wr(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=Wr(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function Gr(){for(var e,t,s=0,n="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=Wr(e))&&(n&&(n+=" "),n+=t);return n}const Nn=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sn=Gr,Nt=(e,t)=>s=>{var n;if(t?.variants==null)return Sn(e,s?.class,s?.className);const{variants:o,defaultVariants:i}=t,a=Object.keys(o).map(d=>{const f=s?.[d],h=i?.[d];if(f===null)return null;const m=Nn(f)||Nn(h);return o[d][m]}),c=s&&Object.entries(s).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:h,className:m,...g}=f;return Object.entries(g).every(b=>{let[x,p]=b;return Array.isArray(p)?p.includes({...i,...c}[x]):{...i,...c}[x]===p})?[...d,h,m]:d},[]);return Sn(e,a,l,s?.class,s?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kr=(...e)=>e.filter((t,s,n)=>!!t&&n.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:a,...c},l)=>u.createElement("svg",{ref:l,...Qc,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:Kr("lucide",o),...c},[...a.map(([d,f])=>u.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(e,t)=>{const s=u.forwardRef(({className:n,...o},i)=>u.createElement(Yc,{ref:i,iconNode:t,className:Kr(`lucide-${qc(e)}`,n),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rs="-",dl=e=>{const t=fl(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const c=a.split(Rs);return c[0]===""&&c.length!==1&&c.shift(),qr(c,t)||ul(a)},getConflictingClassGroupIds:(a,c)=>{const l=s[a]||[];return c&&n[a]?[...l,...n[a]]:l}}},qr=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),o=n?qr(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(Rs);return t.validators.find(({validator:a})=>a(i))?.classGroupId},Cn=/^\[(.+)\]$/,ul=e=>{if(Cn.test(e)){const t=Cn.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},fl=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return ml(Object.entries(e.classGroups),s).forEach(([i,a])=>{ns(a,n,i,t)}),n},ns=(e,t,s,n)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:En(t,o);i.classGroupId=s;return}if(typeof o=="function"){if(hl(o)){ns(o(n),t,s,n);return}t.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([i,a])=>{ns(a,En(t,i),s,n)})})},En=(e,t)=>{let s=e;return t.split(Rs).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},hl=e=>e.isThemeGetter,ml=(e,t)=>t?e.map(([s,n])=>{const o=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[t+a,c])):i);return[s,o]}):e,pl=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const o=(i,a)=>{s.set(i,a),t++,t>e&&(t=0,n=s,s=new Map)};return{get(i){let a=s.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return o(i,a),a},set(i,a){s.has(i)?s.set(i,a):o(i,a)}}},Qr="!",gl=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,o=t[0],i=t.length,a=c=>{const l=[];let d=0,f=0,h;for(let p=0;p<c.length;p++){let v=c[p];if(d===0){if(v===o&&(n||c.slice(p,p+i)===t)){l.push(c.slice(f,p)),f=p+i;continue}if(v==="/"){h=p;continue}}v==="["?d++:v==="]"&&d--}const m=l.length===0?c:c.substring(f),g=m.startsWith(Qr),b=g?m.substring(1):m,x=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:x}};return s?c=>s({className:c,parseClassName:a}):a},xl=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},bl=e=>({cache:pl(e.cacheSize),parseClassName:gl(e),...dl(e)}),vl=/\s+/,yl=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(vl);let c="";for(let l=a.length-1;l>=0;l-=1){const d=a[l],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=s(d);let b=!!g,x=n(b?m.substring(0,g):m);if(!x){if(!b){c=d+(c.length>0?" "+c:c);continue}if(x=n(m),!x){c=d+(c.length>0?" "+c:c);continue}b=!1}const p=xl(f).join(":"),v=h?p+Qr:p,y=v+x;if(i.includes(y))continue;i.push(y);const w=o(x,b);for(let j=0;j<w.length;++j){const N=w[j];i.push(v+N)}c=d+(c.length>0?" "+c:c)}return c};function wl(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Yr(t))&&(n&&(n+=" "),n+=s);return n}const Yr=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=Yr(e[n]))&&(s&&(s+=" "),s+=t);return s};function jl(e,...t){let s,n,o,i=a;function a(l){const d=t.reduce((f,h)=>h(f),e());return s=bl(d),n=s.cache.get,o=s.cache.set,i=c,c(l)}function c(l){const d=n(l);if(d)return d;const f=yl(l,s);return o(l,f),f}return function(){return i(wl.apply(null,arguments))}}const W=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Xr=/^\[(?:([a-z-]+):)?(.+)\]$/i,Nl=/^\d+\/\d+$/,Sl=new Set(["px","full","screen"]),Cl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,El=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fe=e=>ke(e)||Sl.has(e)||Nl.test(e),xe=e=>Ae(e,"length",Ll),ke=e=>!!e&&!Number.isNaN(Number(e)),Bt=e=>Ae(e,"number",ke),Le=e=>!!e&&Number.isInteger(Number(e)),Tl=e=>e.endsWith("%")&&ke(e.slice(0,-1)),$=e=>Xr.test(e),be=e=>Cl.test(e),Il=new Set(["length","size","percentage"]),Al=e=>Ae(e,Il,Jr),Ol=e=>Ae(e,"position",Jr),Ml=new Set(["image","url"]),Dl=e=>Ae(e,Ml,Bl),Fl=e=>Ae(e,"",_l),_e=()=>!0,Ae=(e,t,s)=>{const n=Xr.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},Ll=e=>El.test(e)&&!kl.test(e),Jr=()=>!1,_l=e=>Rl.test(e),Bl=e=>Pl.test(e),$l=()=>{const e=W("colors"),t=W("spacing"),s=W("blur"),n=W("brightness"),o=W("borderColor"),i=W("borderRadius"),a=W("borderSpacing"),c=W("borderWidth"),l=W("contrast"),d=W("grayscale"),f=W("hueRotate"),h=W("invert"),m=W("gap"),g=W("gradientColorStops"),b=W("gradientColorStopPositions"),x=W("inset"),p=W("margin"),v=W("opacity"),y=W("padding"),w=W("saturate"),j=W("scale"),N=W("sepia"),E=W("skew"),k=W("space"),S=W("translate"),C=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",$,t],P=()=>[$,t],M=()=>["",fe,xe],R=()=>["auto",ke,$],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",$],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[ke,$];return{cacheSize:500,separator:":",theme:{colors:[_e],spacing:[fe,xe],blur:["none","",be,$],brightness:q(),borderColor:[e],borderRadius:["none","","full",be,$],borderSpacing:P(),borderWidth:M(),contrast:q(),grayscale:z(),hueRotate:q(),invert:z(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[Tl,xe],inset:T(),margin:T(),opacity:q(),padding:P(),saturate:q(),scale:q(),sepia:z(),skew:q(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[be]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),$]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Le,$]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Le,$]}],"grid-cols":[{"grid-cols":[_e]}],"col-start-end":[{col:["auto",{span:["full",Le,$]},$]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[_e]}],"row-start-end":[{row:["auto",{span:[Le,$]},$]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,t]}],"min-w":[{"min-w":[$,t,"min","max","fit"]}],"max-w":[{"max-w":[$,t,"none","full","min","max","fit","prose",{screen:[be]},be]}],h:[{h:[$,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,t,"auto","min","max","fit"]}],"font-size":[{text:["base",be,xe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bt]}],"font-family":[{font:[_e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",ke,Bt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fe,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fe,xe]}],"underline-offset":[{"underline-offset":["auto",fe,$]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),Ol]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Al]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dl]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:I()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[fe,$]}],"outline-w":[{outline:[fe,xe]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[fe,xe]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",be,Fl]}],"shadow-color":[{shadow:[_e]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",be,$]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Le,$]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fe,xe,Bt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zl=jl($l);function Y(...e){return zl(Gr(e))}const Vl=Kc,Zr=u.forwardRef(({className:e,...t},s)=>r.jsx(Br,{ref:s,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Zr.displayName=Br.displayName;const Ul=Nt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eo=u.forwardRef(({className:e,variant:t,...s},n)=>r.jsx($r,{ref:n,className:Y(Ul({variant:t}),e),...s}));eo.displayName=$r.displayName;const Hl=u.forwardRef(({className:e,...t},s)=>r.jsx(Ur,{ref:s,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Hl.displayName=Ur.displayName;const to=u.forwardRef(({className:e,...t},s)=>r.jsx(Hr,{ref:s,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(ll,{className:"h-4 w-4"})}));to.displayName=Hr.displayName;const so=u.forwardRef(({className:e,...t},s)=>r.jsx(zr,{ref:s,className:Y("text-sm font-semibold",e),...t}));so.displayName=zr.displayName;const no=u.forwardRef(({className:e,...t},s)=>r.jsx(Vr,{ref:s,className:Y("text-sm opacity-90",e),...t}));no.displayName=Vr.displayName;function Wl(){const{toasts:e}=rc();return r.jsxs(Vl,{children:[e.map(function({id:t,title:s,description:n,action:o,...i}){return r.jsxs(eo,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(so,{children:s}),n&&r.jsx(no,{children:n})]}),o,r.jsx(to,{})]},t)}),r.jsx(Zr,{})]})}var Gl=Xn[" useId ".trim().toString()]||(()=>{}),Kl=0;function ql(e){const[t,s]=u.useState(Gl());return ve(()=>{s(n=>n??String(Kl++))},[e]),t?`radix-${t}`:""}const Ql=["top","right","bottom","left"],ye=Math.min,se=Math.max,dt=Math.round,tt=Math.floor,le=e=>({x:e,y:e}),Yl={left:"right",right:"left",bottom:"top",top:"bottom"},Xl={start:"end",end:"start"};function rs(e,t,s){return se(e,ye(t,s))}function he(e,t){return typeof e=="function"?e(t):e}function me(e){return e.split("-")[0]}function Oe(e){return e.split("-")[1]}function Ps(e){return e==="x"?"y":"x"}function Ts(e){return e==="y"?"height":"width"}function we(e){return["top","bottom"].includes(me(e))?"y":"x"}function Is(e){return Ps(we(e))}function Jl(e,t,s){s===void 0&&(s=!1);const n=Oe(e),o=Is(e),i=Ts(o);let a=o==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=ut(a)),[a,ut(a)]}function Zl(e){const t=ut(e);return[os(e),t,os(t)]}function os(e){return e.replace(/start|end/g,t=>Xl[t])}function ed(e,t,s){const n=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return s?t?o:n:t?n:o;case"left":case"right":return t?i:a;default:return[]}}function td(e,t,s,n){const o=Oe(e);let i=ed(me(e),s==="start",n);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(os)))),i}function ut(e){return e.replace(/left|right|bottom|top/g,t=>Yl[t])}function sd(e){return{top:0,right:0,bottom:0,left:0,...e}}function ro(e){return typeof e!="number"?sd(e):{top:e,right:e,bottom:e,left:e}}function ft(e){const{x:t,y:s,width:n,height:o}=e;return{width:n,height:o,top:s,left:t,right:t+n,bottom:s+o,x:t,y:s}}function kn(e,t,s){let{reference:n,floating:o}=e;const i=we(t),a=Is(t),c=Ts(a),l=me(t),d=i==="y",f=n.x+n.width/2-o.width/2,h=n.y+n.height/2-o.height/2,m=n[c]/2-o[c]/2;let g;switch(l){case"top":g={x:f,y:n.y-o.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-o.width,y:h};break;default:g={x:n.x,y:n.y}}switch(Oe(t)){case"start":g[a]-=m*(s&&d?-1:1);break;case"end":g[a]+=m*(s&&d?-1:1);break}return g}const nd=async(e,t,s)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=s,c=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:h}=kn(d,n,l),m=n,g={},b=0;for(let x=0;x<c.length;x++){const{name:p,fn:v}=c[x],{x:y,y:w,data:j,reset:N}=await v({x:f,y:h,initialPlacement:n,placement:m,strategy:o,middlewareData:g,rects:d,platform:a,elements:{reference:e,floating:t}});f=y??f,h=w??h,g={...g,[p]:{...g[p],...j}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:f,y:h}=kn(d,m,l)),x=-1)}return{x:f,y:h,placement:m,strategy:o,middlewareData:g}};async function Ge(e,t){var s;t===void 0&&(t={});const{x:n,y:o,platform:i,rects:a,elements:c,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=he(t,e),b=ro(g),p=c[m?h==="floating"?"reference":"floating":h],v=ft(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(p)))==null||s?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:l})),y=h==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=ft(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-N.top+b.top)/j.y,bottom:(N.bottom-v.bottom+b.bottom)/j.y,left:(v.left-N.left+b.left)/j.x,right:(N.right-v.right+b.right)/j.x}}const rd=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:o,rects:i,platform:a,elements:c,middlewareData:l}=t,{element:d,padding:f=0}=he(e,t)||{};if(d==null)return{};const h=ro(f),m={x:s,y:n},g=Is(o),b=Ts(g),x=await a.getDimensions(d),p=g==="y",v=p?"top":"left",y=p?"bottom":"right",w=p?"clientHeight":"clientWidth",j=i.reference[b]+i.reference[g]-m[g]-i.floating[b],N=m[g]-i.reference[g],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let k=E?E[w]:0;(!k||!await(a.isElement==null?void 0:a.isElement(E)))&&(k=c.floating[w]||i.floating[b]);const S=j/2-N/2,C=k/2-x[b]/2-1,O=ye(h[v],C),T=ye(h[y],C),P=O,M=k-x[b]-T,R=k/2-x[b]/2+S,D=rs(P,R,M),I=!l.arrow&&Oe(o)!=null&&R!==D&&i.reference[b]/2-(R<P?O:T)-x[b]/2<0,_=I?R<P?R-P:R-M:0;return{[g]:m[g]+_,data:{[g]:D,centerOffset:R-D-_,...I&&{alignmentOffset:_}},reset:I}}}),od=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:o,middlewareData:i,rects:a,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...p}=he(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const v=me(o),y=we(c),w=me(c)===c,j=await(l.isRTL==null?void 0:l.isRTL(d.floating)),N=m||(w||!x?[ut(c)]:Zl(c)),E=b!=="none";!m&&E&&N.push(...td(c,x,b,j));const k=[c,...N],S=await Ge(t,p),C=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&C.push(S[v]),h){const R=Jl(o,a,j);C.push(S[R[0]],S[R[1]])}if(O=[...O,{placement:o,overflows:C}],!C.every(R=>R<=0)){var T,P;const R=(((T=i.flip)==null?void 0:T.index)||0)+1,D=k[R];if(D)return{data:{index:R,overflows:O},reset:{placement:D}};let I=(P=O.filter(_=>_.overflows[0]<=0).sort((_,F)=>_.overflows[1]-F.overflows[1])[0])==null?void 0:P.placement;if(!I)switch(g){case"bestFit":{var M;const _=(M=O.filter(F=>{if(E){const z=we(F.placement);return z===y||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,Q)=>z+Q,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:M[0];_&&(I=_);break}case"initialPlacement":I=c;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function Rn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Pn(e){return Ql.some(t=>e[t]>=0)}const id=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...o}=he(e,t);switch(n){case"referenceHidden":{const i=await Ge(t,{...o,elementContext:"reference"}),a=Rn(i,s.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Pn(a)}}}case"escaped":{const i=await Ge(t,{...o,altBoundary:!0}),a=Rn(i,s.floating);return{data:{escapedOffsets:a,escaped:Pn(a)}}}default:return{}}}}};async function ad(e,t){const{placement:s,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=me(s),c=Oe(s),l=we(s)==="y",d=["left","top"].includes(a)?-1:1,f=i&&l?-1:1,h=he(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof b=="number"&&(g=c==="end"?b*-1:b),l?{x:g*f,y:m*d}:{x:m*d,y:g*f}}const cd=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:o,y:i,placement:a,middlewareData:c}=t,l=await ad(t,e);return a===((s=c.offset)==null?void 0:s.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},ld=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:p=>{let{x:v,y}=p;return{x:v,y}}},...l}=he(e,t),d={x:s,y:n},f=await Ge(t,l),h=we(me(o)),m=Ps(h);let g=d[m],b=d[h];if(i){const p=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=g+f[p],w=g-f[v];g=rs(y,g,w)}if(a){const p=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=b+f[p],w=b-f[v];b=rs(y,b,w)}const x=c.fn({...t,[m]:g,[h]:b});return{...x,data:{x:x.x-s,y:x.y-n,enabled:{[m]:i,[h]:a}}}}}},dd=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:o,rects:i,middlewareData:a}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=he(e,t),f={x:s,y:n},h=we(o),m=Ps(h);let g=f[m],b=f[h];const x=he(c,t),p=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const w=m==="y"?"height":"width",j=i.reference[m]-i.floating[w]+p.mainAxis,N=i.reference[m]+i.reference[w]-p.mainAxis;g<j?g=j:g>N&&(g=N)}if(d){var v,y;const w=m==="y"?"width":"height",j=["top","left"].includes(me(o)),N=i.reference[h]-i.floating[w]+(j&&((v=a.offset)==null?void 0:v[h])||0)+(j?0:p.crossAxis),E=i.reference[h]+i.reference[w]+(j?0:((y=a.offset)==null?void 0:y[h])||0)-(j?p.crossAxis:0);b<N?b=N:b>E&&(b=E)}return{[m]:g,[h]:b}}}},ud=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:o,rects:i,platform:a,elements:c}=t,{apply:l=()=>{},...d}=he(e,t),f=await Ge(t,d),h=me(o),m=Oe(o),g=we(o)==="y",{width:b,height:x}=i.floating;let p,v;h==="top"||h==="bottom"?(p=h,v=m===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(v=h,p=m==="end"?"top":"bottom");const y=x-f.top-f.bottom,w=b-f.left-f.right,j=ye(x-f[p],y),N=ye(b-f[v],w),E=!t.middlewareData.shift;let k=j,S=N;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(S=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=y),E&&!m){const O=se(f.left,0),T=se(f.right,0),P=se(f.top,0),M=se(f.bottom,0);g?S=b-2*(O!==0||T!==0?O+T:se(f.left,f.right)):k=x-2*(P!==0||M!==0?P+M:se(f.top,f.bottom))}await l({...t,availableWidth:S,availableHeight:k});const C=await a.getDimensions(c.floating);return b!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function St(){return typeof window<"u"}function Me(e){return oo(e)?(e.nodeName||"").toLowerCase():"#document"}function ne(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ue(e){var t;return(t=(oo(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oo(e){return St()?e instanceof Node||e instanceof ne(e).Node:!1}function ae(e){return St()?e instanceof Element||e instanceof ne(e).Element:!1}function de(e){return St()?e instanceof HTMLElement||e instanceof ne(e).HTMLElement:!1}function Tn(e){return!St()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ne(e).ShadowRoot}function Ye(e){const{overflow:t,overflowX:s,overflowY:n,display:o}=ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(o)}function fd(e){return["table","td","th"].includes(Me(e))}function Ct(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function As(e){const t=Os(),s=ae(e)?ce(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function hd(e){let t=je(e);for(;de(t)&&!Pe(t);){if(As(t))return t;if(Ct(t))return null;t=je(t)}return null}function Os(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pe(e){return["html","body","#document"].includes(Me(e))}function ce(e){return ne(e).getComputedStyle(e)}function Et(e){return ae(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function je(e){if(Me(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tn(e)&&e.host||ue(e);return Tn(t)?t.host:t}function io(e){const t=je(e);return Pe(t)?e.ownerDocument?e.ownerDocument.body:e.body:de(t)&&Ye(t)?t:io(t)}function Ke(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const o=io(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),a=ne(o);if(i){const c=is(a);return t.concat(a,a.visualViewport||[],Ye(o)?o:[],c&&s?Ke(c):[])}return t.concat(o,Ke(o,[],s))}function is(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ao(e){const t=ce(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=de(e),i=o?e.offsetWidth:s,a=o?e.offsetHeight:n,c=dt(s)!==i||dt(n)!==a;return c&&(s=i,n=a),{width:s,height:n,$:c}}function Ms(e){return ae(e)?e:e.contextElement}function Re(e){const t=Ms(e);if(!de(t))return le(1);const s=t.getBoundingClientRect(),{width:n,height:o,$:i}=ao(t);let a=(i?dt(s.width):s.width)/n,c=(i?dt(s.height):s.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const md=le(0);function co(e){const t=ne(e);return!Os()||!t.visualViewport?md:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pd(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==ne(e)?!1:t}function Ce(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),i=Ms(e);let a=le(1);t&&(n?ae(n)&&(a=Re(n)):a=Re(e));const c=pd(i,s,n)?co(i):le(0);let l=(o.left+c.x)/a.x,d=(o.top+c.y)/a.y,f=o.width/a.x,h=o.height/a.y;if(i){const m=ne(i),g=n&&ae(n)?ne(n):n;let b=m,x=is(b);for(;x&&n&&g!==b;){const p=Re(x),v=x.getBoundingClientRect(),y=ce(x),w=v.left+(x.clientLeft+parseFloat(y.paddingLeft))*p.x,j=v.top+(x.clientTop+parseFloat(y.paddingTop))*p.y;l*=p.x,d*=p.y,f*=p.x,h*=p.y,l+=w,d+=j,b=ne(x),x=is(b)}}return ft({width:f,height:h,x:l,y:d})}function Ds(e,t){const s=Et(e).scrollLeft;return t?t.left+s:Ce(ue(e)).left+s}function lo(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(s?0:Ds(e,n)),i=n.top+t.scrollTop;return{x:o,y:i}}function gd(e){let{elements:t,rect:s,offsetParent:n,strategy:o}=e;const i=o==="fixed",a=ue(n),c=t?Ct(t.floating):!1;if(n===a||c&&i)return s;let l={scrollLeft:0,scrollTop:0},d=le(1);const f=le(0),h=de(n);if((h||!h&&!i)&&((Me(n)!=="body"||Ye(a))&&(l=Et(n)),de(n))){const g=Ce(n);d=Re(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const m=a&&!h&&!i?lo(a,l,!0):le(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-l.scrollLeft*d.x+f.x+m.x,y:s.y*d.y-l.scrollTop*d.y+f.y+m.y}}function xd(e){return Array.from(e.getClientRects())}function bd(e){const t=ue(e),s=Et(e),n=e.ownerDocument.body,o=se(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=se(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-s.scrollLeft+Ds(e);const c=-s.scrollTop;return ce(n).direction==="rtl"&&(a+=se(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:c}}function vd(e,t){const s=ne(e),n=ue(e),o=s.visualViewport;let i=n.clientWidth,a=n.clientHeight,c=0,l=0;if(o){i=o.width,a=o.height;const d=Os();(!d||d&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:c,y:l}}function yd(e,t){const s=Ce(e,!0,t==="fixed"),n=s.top+e.clientTop,o=s.left+e.clientLeft,i=de(e)?Re(e):le(1),a=e.clientWidth*i.x,c=e.clientHeight*i.y,l=o*i.x,d=n*i.y;return{width:a,height:c,x:l,y:d}}function In(e,t,s){let n;if(t==="viewport")n=vd(e,s);else if(t==="document")n=bd(ue(e));else if(ae(t))n=yd(t,s);else{const o=co(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ft(n)}function uo(e,t){const s=je(e);return s===t||!ae(s)||Pe(s)?!1:ce(s).position==="fixed"||uo(s,t)}function wd(e,t){const s=t.get(e);if(s)return s;let n=Ke(e,[],!1).filter(c=>ae(c)&&Me(c)!=="body"),o=null;const i=ce(e).position==="fixed";let a=i?je(e):e;for(;ae(a)&&!Pe(a);){const c=ce(a),l=As(a);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ye(a)&&!l&&uo(e,a))?n=n.filter(f=>f!==a):o=c,a=je(a)}return t.set(e,n),n}function jd(e){let{element:t,boundary:s,rootBoundary:n,strategy:o}=e;const a=[...s==="clippingAncestors"?Ct(t)?[]:wd(t,this._c):[].concat(s),n],c=a[0],l=a.reduce((d,f)=>{const h=In(t,f,o);return d.top=se(h.top,d.top),d.right=ye(h.right,d.right),d.bottom=ye(h.bottom,d.bottom),d.left=se(h.left,d.left),d},In(t,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Nd(e){const{width:t,height:s}=ao(e);return{width:t,height:s}}function Sd(e,t,s){const n=de(t),o=ue(t),i=s==="fixed",a=Ce(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=le(0);if(n||!n&&!i)if((Me(t)!=="body"||Ye(o))&&(c=Et(t)),n){const m=Ce(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else o&&(l.x=Ds(o));const d=o&&!n&&!i?lo(o,c):le(0),f=a.left+c.scrollLeft-l.x-d.x,h=a.top+c.scrollTop-l.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function $t(e){return ce(e).position==="static"}function An(e,t){if(!de(e)||ce(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return ue(e)===s&&(s=s.ownerDocument.body),s}function fo(e,t){const s=ne(e);if(Ct(e))return s;if(!de(e)){let o=je(e);for(;o&&!Pe(o);){if(ae(o)&&!$t(o))return o;o=je(o)}return s}let n=An(e,t);for(;n&&fd(n)&&$t(n);)n=An(n,t);return n&&Pe(n)&&$t(n)&&!As(n)?s:n||hd(e)||s}const Cd=async function(e){const t=this.getOffsetParent||fo,s=this.getDimensions,n=await s(e.floating);return{reference:Sd(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ed(e){return ce(e).direction==="rtl"}const kd={convertOffsetParentRelativeRectToViewportRelativeRect:gd,getDocumentElement:ue,getClippingRect:jd,getOffsetParent:fo,getElementRects:Cd,getClientRects:xd,getDimensions:Nd,getScale:Re,isElement:ae,isRTL:Ed};function ho(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rd(e,t){let s=null,n;const o=ue(e);function i(){var c;clearTimeout(n),(c=s)==null||c.disconnect(),s=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:g}=d;if(c||t(),!m||!g)return;const b=tt(h),x=tt(o.clientWidth-(f+m)),p=tt(o.clientHeight-(h+g)),v=tt(f),w={rootMargin:-b+"px "+-x+"px "+-p+"px "+-v+"px",threshold:se(0,ye(1,l))||1};let j=!0;function N(E){const k=E[0].intersectionRatio;if(k!==l){if(!j)return a();k?a(!1,k):n=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!ho(d,e.getBoundingClientRect())&&a(),j=!1}try{s=new IntersectionObserver(N,{...w,root:o.ownerDocument})}catch{s=new IntersectionObserver(N,w)}s.observe(e)}return a(!0),i}function Pd(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=Ms(e),f=o||i?[...d?Ke(d):[],...Ke(t)]:[];f.forEach(v=>{o&&v.addEventListener("scroll",s,{passive:!0}),i&&v.addEventListener("resize",s)});const h=d&&c?Rd(d,s):null;let m=-1,g=null;a&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),s()}),d&&!l&&g.observe(d),g.observe(t));let b,x=l?Ce(e):null;l&&p();function p(){const v=Ce(e);x&&!ho(x,v)&&s(),x=v,b=requestAnimationFrame(p)}return s(),()=>{var v;f.forEach(y=>{o&&y.removeEventListener("scroll",s),i&&y.removeEventListener("resize",s)}),h?.(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(b)}}const Td=cd,Id=ld,Ad=od,Od=ud,Md=id,On=rd,Dd=dd,Fd=(e,t,s)=>{const n=new Map,o={platform:kd,...s},i={...o.platform,_c:n};return nd(e,t,{...o,platform:i})};var rt=typeof document<"u"?u.useLayoutEffect:u.useEffect;function ht(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!ht(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=s;n--!==0;){const i=o[n];if(!(i==="_owner"&&e.$$typeof)&&!ht(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function mo(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mn(e,t){const s=mo(e);return Math.round(t*s)/s}function zt(e){const t=u.useRef(e);return rt(()=>{t.current=e}),t}function Ld(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:l,open:d}=e,[f,h]=u.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=u.useState(n);ht(m,n)||g(n);const[b,x]=u.useState(null),[p,v]=u.useState(null),y=u.useCallback(F=>{F!==E.current&&(E.current=F,x(F))},[]),w=u.useCallback(F=>{F!==k.current&&(k.current=F,v(F))},[]),j=i||b,N=a||p,E=u.useRef(null),k=u.useRef(null),S=u.useRef(f),C=l!=null,O=zt(l),T=zt(o),P=zt(d),M=u.useCallback(()=>{if(!E.current||!k.current)return;const F={placement:t,strategy:s,middleware:m};T.current&&(F.platform=T.current),Fd(E.current,k.current,F).then(z=>{const Q={...z,isPositioned:P.current!==!1};R.current&&!ht(S.current,Q)&&(S.current=Q,xt.flushSync(()=>{h(Q)}))})},[m,t,s,T,P]);rt(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const R=u.useRef(!1);rt(()=>(R.current=!0,()=>{R.current=!1}),[]),rt(()=>{if(j&&(E.current=j),N&&(k.current=N),j&&N){if(O.current)return O.current(j,N,M);M()}},[j,N,M,O,C]);const D=u.useMemo(()=>({reference:E,floating:k,setReference:y,setFloating:w}),[y,w]),I=u.useMemo(()=>({reference:j,floating:N}),[j,N]),_=u.useMemo(()=>{const F={position:s,left:0,top:0};if(!I.floating)return F;const z=Mn(I.floating,f.x),Q=Mn(I.floating,f.y);return c?{...F,transform:"translate("+z+"px, "+Q+"px)",...mo(I.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:z,top:Q}},[s,c,I.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:M,refs:D,elements:I,floatingStyles:_}),[f,M,D,I,_])}const _d=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:o}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?On({element:n.current,padding:o}).fn(s):{}:n?On({element:n,padding:o}).fn(s):{}}}},Bd=(e,t)=>({...Td(e),options:[e,t]}),$d=(e,t)=>({...Id(e),options:[e,t]}),zd=(e,t)=>({...Dd(e),options:[e,t]}),Vd=(e,t)=>({...Ad(e),options:[e,t]}),Ud=(e,t)=>({...Od(e),options:[e,t]}),Hd=(e,t)=>({...Md(e),options:[e,t]}),Wd=(e,t)=>({..._d(e),options:[e,t]});var Gd="Arrow",po=u.forwardRef((e,t)=>{const{children:s,width:n=10,height:o=5,...i}=e;return r.jsx(H.svg,{...i,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});po.displayName=Gd;var Kd=po;function Fs(e){const[t,s]=u.useState(void 0);return ve(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,c;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;a=d.inlineSize,c=d.blockSize}else a=e.offsetWidth,c=e.offsetHeight;s({width:a,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var go="Popper",[xo,bo]=pe(go),[Jh,vo]=xo(go),yo="PopperAnchor",wo=u.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...o}=e,i=vo(yo,s),a=u.useRef(null),c=J(t,a);return u.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:r.jsx(H.div,{...o,ref:c})});wo.displayName=yo;var Ls="PopperContent",[qd,Qd]=xo(Ls),jo=u.forwardRef((e,t)=>{const{__scopePopper:s,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:b,...x}=e,p=vo(Ls,s),[v,y]=u.useState(null),w=J(t,ge=>y(ge)),[j,N]=u.useState(null),E=Fs(j),k=E?.width??0,S=E?.height??0,C=n+(i!=="center"?"-"+i:""),O=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(d)?d:[d],P=T.length>0,M={padding:O,boundary:T.filter(Xd),altBoundary:P},{refs:R,floatingStyles:D,placement:I,isPositioned:_,middlewareData:F}=Ld({strategy:"fixed",placement:C,whileElementsMounted:(...ge)=>Pd(...ge,{animationFrame:g==="always"}),elements:{reference:p.anchor},middleware:[Bd({mainAxis:o+S,alignmentAxis:a}),l&&$d({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?zd():void 0,...M}),l&&Vd({...M}),Ud({...M,apply:({elements:ge,rects:Ys,availableWidth:zi,availableHeight:Vi})=>{const{width:Ui,height:Hi}=Ys.reference,Xe=ge.floating.style;Xe.setProperty("--radix-popper-available-width",`${zi}px`),Xe.setProperty("--radix-popper-available-height",`${Vi}px`),Xe.setProperty("--radix-popper-anchor-width",`${Ui}px`),Xe.setProperty("--radix-popper-anchor-height",`${Hi}px`)}}),j&&Wd({element:j,padding:c}),Jd({arrowWidth:k,arrowHeight:S}),m&&Hd({strategy:"referenceHidden",...M})]}),[z,Q]=Co(I),q=ie(b);ve(()=>{_&&q?.()},[_,q]);const ee=F.arrow?.x,A=F.arrow?.y,X=F.arrow?.centerOffset!==0,[B,Qs]=u.useState();return ve(()=>{v&&Qs(window.getComputedStyle(v).zIndex)},[v]),r.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:_?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(qd,{scope:s,placedSide:z,onArrowChange:N,arrowX:ee,arrowY:A,shouldHideArrow:X,children:r.jsx(H.div,{"data-side":z,"data-align":Q,...x,ref:w,style:{...x.style,animation:_?void 0:"none"}})})})});jo.displayName=Ls;var No="PopperArrow",Yd={top:"bottom",right:"left",bottom:"top",left:"right"},So=u.forwardRef(function(t,s){const{__scopePopper:n,...o}=t,i=Qd(No,n),a=Yd[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(Kd,{...o,ref:s,style:{...o.style,display:"block"}})})});So.displayName=No;function Xd(e){return e!==null}var Jd=e=>({name:"transformOrigin",options:e,fn(t){const{placement:s,rects:n,middlewareData:o}=t,a=o.arrow?.centerOffset!==0,c=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[d,f]=Co(s),h={start:"0%",center:"50%",end:"100%"}[f],m=(o.arrow?.x??0)+c/2,g=(o.arrow?.y??0)+l/2;let b="",x="";return d==="bottom"?(b=a?h:`${m}px`,x=`${-l}px`):d==="top"?(b=a?h:`${m}px`,x=`${n.floating.height+l}px`):d==="right"?(b=`${-l}px`,x=a?h:`${g}px`):d==="left"&&(b=`${n.floating.width+l}px`,x=a?h:`${g}px`),{data:{x:b,y:x}}}});function Co(e){const[t,s="center"]=e.split("-");return[t,s]}var Zd=wo,eu=jo,tu=So,[kt,Zh]=pe("Tooltip",[bo]),_s=bo(),Eo="TooltipProvider",su=700,Dn="tooltip.open",[nu,ko]=kt(Eo),Ro=e=>{const{__scopeTooltip:t,delayDuration:s=su,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:i}=e,a=u.useRef(!0),c=u.useRef(!1),l=u.useRef(0);return u.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),r.jsx(nu,{scope:t,isOpenDelayedRef:a,delayDuration:s,onOpen:u.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:u.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:u.useCallback(d=>{c.current=d},[]),disableHoverableContent:o,children:i})};Ro.displayName=Eo;var Po="Tooltip",[em,Rt]=kt(Po),as="TooltipTrigger",ru=u.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,o=Rt(as,s),i=ko(as,s),a=_s(s),c=u.useRef(null),l=J(t,c,o.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),h=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),r.jsx(Zd,{asChild:!0,...a,children:r.jsx(H.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:l,onPointerMove:U(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:U(e.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:U(e.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:U(e.onFocus,()=>{d.current||o.onOpen()}),onBlur:U(e.onBlur,o.onClose),onClick:U(e.onClick,o.onClose)})})});ru.displayName=as;var ou="TooltipPortal",[tm,iu]=kt(ou,{forceMount:void 0}),Te="TooltipContent",To=u.forwardRef((e,t)=>{const s=iu(Te,e.__scopeTooltip),{forceMount:n=s.forceMount,side:o="top",...i}=e,a=Rt(Te,e.__scopeTooltip);return r.jsx(bt,{present:n||a.open,children:a.disableHoverableContent?r.jsx(Io,{side:o,...i,ref:t}):r.jsx(au,{side:o,...i,ref:t})})}),au=u.forwardRef((e,t)=>{const s=Rt(Te,e.__scopeTooltip),n=ko(Te,e.__scopeTooltip),o=u.useRef(null),i=J(t,o),[a,c]=u.useState(null),{trigger:l,onClose:d}=s,f=o.current,{onPointerInTransitChange:h}=n,m=u.useCallback(()=>{c(null),h(!1)},[h]),g=u.useCallback((b,x)=>{const p=b.currentTarget,v={x:b.clientX,y:b.clientY},y=fu(v,p.getBoundingClientRect()),w=hu(v,y),j=mu(x.getBoundingClientRect()),N=gu([...w,...j]);c(N),h(!0)},[h]);return u.useEffect(()=>()=>m(),[m]),u.useEffect(()=>{if(l&&f){const b=p=>g(p,f),x=p=>g(p,l);return l.addEventListener("pointerleave",b),f.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",x)}}},[l,f,g,m]),u.useEffect(()=>{if(a){const b=x=>{const p=x.target,v={x:x.clientX,y:x.clientY},y=l?.contains(p)||f?.contains(p),w=!pu(v,a);y?m():w&&(m(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,f,a,d,m]),r.jsx(Io,{...e,ref:i})}),[cu,lu]=kt(Po,{isInside:!1}),du=lc("TooltipContent"),Io=u.forwardRef((e,t)=>{const{__scopeTooltip:s,children:n,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=e,l=Rt(Te,s),d=_s(s),{onClose:f}=l;return u.useEffect(()=>(document.addEventListener(Dn,f),()=>document.removeEventListener(Dn,f)),[f]),u.useEffect(()=>{if(l.trigger){const h=m=>{m.target?.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),r.jsx(Ss,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:r.jsxs(eu,{"data-state":l.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(du,{children:n}),r.jsx(cu,{scope:s,isInside:!0,children:r.jsx(Pc,{id:l.contentId,role:"tooltip",children:o||n})})]})})});To.displayName=Te;var Ao="TooltipArrow",uu=u.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,o=_s(s);return lu(Ao,s).isInside?null:r.jsx(tu,{...o,...n,ref:t})});uu.displayName=Ao;function fu(e,t){const s=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(s,n,o,i)){case i:return"left";case o:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function hu(e,t,s=5){const n=[];switch(t){case"top":n.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":n.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":n.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":n.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return n}function mu(e){const{top:t,right:s,bottom:n,left:o}=e;return[{x:o,y:t},{x:s,y:t},{x:s,y:n},{x:o,y:n}]}function pu(e,t){const{x:s,y:n}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const c=t[i].x,l=t[i].y,d=t[a].x,f=t[a].y;l>n!=f>n&&s<(d-c)*(n-l)/(f-l)+c&&(o=!o)}return o}function gu(e){const t=e.slice();return t.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),xu(t)}function xu(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}t.pop();const s=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;s.length>=2;){const i=s[s.length-1],a=s[s.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))s.pop();else break}s.push(o)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var bu=Ro,Oo=To;const vu=bu,yu=u.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(Oo,{ref:n,sideOffset:t,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));yu.displayName=Oo.displayName;function wu(e){const[t,s]=u.useState(!1),n=u.useRef(null),o=u.useCallback(async()=>{try{if(!e.current){console.warn("Video element not available");return}const a=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});e.current.srcObject=a,n.current=a,s(!0),console.log("Camera started successfully with back camera")}catch(a){console.error("Error accessing back camera:",a);try{if(!e.current){console.warn("Video element not available for fallback");return}const c=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}},audio:!1});e.current.srcObject=c,n.current=c,s(!0),console.log("Camera started successfully with front camera")}catch(c){console.error("Error accessing front camera:",c);try{if(!e.current){console.warn("Video element not available for basic fallback");return}const l=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});e.current.srcObject=l,n.current=l,s(!0),console.log("Camera started successfully with basic constraints")}catch(l){console.error("All camera access attempts failed:",l)}}}},[e]),i=u.useCallback(()=>{n.current&&(n.current.getTracks().forEach(a=>a.stop()),n.current=null),e.current&&(e.current.srcObject=null),s(!1)},[e]);return{isActive:t,startCamera:o,stopCamera:i}}const ju=Nt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border",{variants:{variant:{default:"bg-primary text-white border-primary hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"bg-transparent text-white border-white hover:bg-white/10 hover:border-white/50",secondary:"bg-white text-primary border-white hover:bg-white/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 px-8 py-4 text-base rounded-xl",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=u.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...o},i)=>{const a=n?ac:"button";return r.jsx(a,{className:Y(ju({variant:t,size:s,className:e})),ref:i,...o})});V.displayName="Button";function Nu({language:e="en",sessionId:t="default"}){const s=u.useRef(null),{startCamera:n,stopCamera:o}=wu(s);return u.useEffect(()=>((async()=>{try{await n()}catch(a){console.error("Failed to initialize camera:",a)}})(),()=>o()),[n,o]),r.jsx("div",{className:"relative w-full h-full",children:r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"h-[600px] relative overflow-hidden bg-card backdrop-blur-md",children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-primary/20 to-secondary/20",children:r.jsxs("div",{className:"text-center text-foreground",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:r.jsx(ss,{className:"w-8 h-8 text-muted-foreground"})}),r.jsx("p",{className:"text-lg mb-2",children:"Camera Ready"}),r.jsx("p",{className:"text-sm opacity-75",children:"Point camera at medical device"})]})}),r.jsx("div",{className:"absolute top-4 left-4 z-10",children:r.jsxs(V,{size:"sm",variant:"secondary",className:"bg-black/50 hover:bg-black/70 text-white border-white/30",children:[r.jsx(Xc,{className:"w-4 h-4 mr-2"}),"Back"]})}),r.jsx("div",{className:"absolute top-4 right-4 z-10",children:r.jsx("div",{className:"px-4 py-3 rounded-2xl shadow-lg border border-border bg-card backdrop-blur-md",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Ready"})]})})}),r.jsx("div",{className:"absolute inset-4 pointer-events-none",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 h-full",children:[r.jsx("div",{className:"flex flex-col justify-start",children:r.jsxs("div",{className:"px-3 py-2 rounded-lg text-sm font-medium flex items-center border border-border bg-secondary text-foreground backdrop-blur-sm",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-success mr-2"}),"Cuff Position"]})}),r.jsx("div",{className:"flex flex-col justify-center",children:r.jsxs("div",{className:"px-3 py-2 rounded-lg text-sm font-medium flex items-center border border-border bg-secondary text-foreground backdrop-blur-sm",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-warning mr-2"}),"Tightness Check"]})}),r.jsx("div",{className:"flex flex-col justify-end",children:r.jsxs("div",{className:"px-3 py-2 rounded-lg text-sm font-medium flex items-center border border-border bg-secondary text-foreground backdrop-blur-sm",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-muted mr-2"}),"Alignment"]})})]})})]}),r.jsxs("div",{className:"flex items-center justify-center space-x-4 py-4 px-4 bg-card border-t border-border",children:[r.jsx(V,{size:"sm",variant:"secondary",className:"rounded-full w-10 h-10 p-0",children:r.jsx(ss,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"secondary",className:"rounded-full w-10 h-10 p-0",children:r.jsx(il,{className:"w-4 h-4"})})]})]})})}const G=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));G.displayName="Card";const Ve=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Y("flex flex-col space-y-1.5 p-6",e),...t}));Ve.displayName="CardHeader";const ot=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Y("text-2xl font-semibold leading-none tracking-tight",e),...t}));ot.displayName="CardTitle";const Su=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Y("text-sm text-muted-foreground",e),...t}));Su.displayName="CardDescription";const K=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Y("p-6 pt-0",e),...t}));K.displayName="CardContent";const Cu=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:Y("flex items-center p-6 pt-0",e),...t}));Cu.displayName="CardFooter";const Eu=()=>{const e=u.useRef(null),t=u.useRef(null),s=u.useRef(null),[n,o]=u.useState(!1),[i,a]=u.useState(null),c=async()=>{try{if(a(null),s.current&&s.current.getTracks().forEach(d=>d.stop()),!e.current){a("Video element not available");return}try{const d={video:{facingMode:{ideal:"environment"},width:{ideal:640},height:{ideal:480}}},f=await navigator.mediaDevices.getUserMedia(d);s.current=f,e.current.srcObject=f,e.current.onloadedmetadata=()=>{e.current?.play().catch(h=>{console.warn("Auto-play blocked:",h)}),o(!0)},console.log("Camera started successfully with back camera")}catch(d){console.warn("Back camera failed, trying front camera:",d);const f={video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}},h=await navigator.mediaDevices.getUserMedia(f);s.current=h,e.current.srcObject=h,e.current.onloadedmetadata=()=>{e.current?.play().catch(m=>{console.warn("Auto-play blocked:",m)}),o(!0)},console.log("Camera started successfully with front camera")}}catch(d){const f=`Camera failed: ${d instanceof Error?d.message:"Unknown error"}`;console.error(f),a(f),o(!1)}},l=()=>{s.current&&(s.current.getTracks().forEach(d=>d.stop()),s.current=null),e.current&&(e.current.srcObject=null),o(!1)};return u.useEffect(()=>{const f=setTimeout(async()=>{try{await c()}catch(h){console.warn("Auto-start camera failed:",h)}},500);return()=>{clearTimeout(f),l()}},[]),{videoRef:e,canvasRef:t,isInitialized:n,error:i,startCamera:c,stopCamera:l}},Mo=Object.freeze({left:0,top:0,width:16,height:16}),mt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Bs=Object.freeze({...Mo,...mt}),cs=Object.freeze({...Bs,body:"",hidden:!1});function ku(e,t){const s={};!e.hFlip!=!t.hFlip&&(s.hFlip=!0),!e.vFlip!=!t.vFlip&&(s.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(s.rotate=n),s}function Fn(e,t){const s=ku(e,t);for(const n in cs)n in mt?n in e&&!(n in s)&&(s[n]=mt[n]):n in t?s[n]=t[n]:n in e&&(s[n]=e[n]);return s}function Ru(e,t){const s=e.icons,n=e.aliases||Object.create(null),o=Object.create(null);function i(a){if(s[a])return o[a]=[];if(!(a in o)){o[a]=null;const c=n[a]&&n[a].parent,l=c&&i(c);l&&(o[a]=[c].concat(l))}return o[a]}return Object.keys(s).concat(Object.keys(n)).forEach(i),o}function Pu(e,t,s){const n=e.icons,o=e.aliases||Object.create(null);let i={};function a(c){i=Fn(n[c]||o[c],i)}return a(t),s.forEach(a),Fn(e,i)}function Do(e,t){const s=[];if(typeof e!="object"||typeof e.icons!="object")return s;e.not_found instanceof Array&&e.not_found.forEach(o=>{t(o,null),s.push(o)});const n=Ru(e);for(const o in n){const i=n[o];i&&(t(o,Pu(e,o,i)),s.push(o))}return s}const Tu={provider:"",aliases:{},not_found:{},...Mo};function Vt(e,t){for(const s in t)if(s in e&&typeof e[s]!=typeof t[s])return!1;return!0}function Fo(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!Vt(e,Tu))return null;const s=t.icons;for(const o in s){const i=s[o];if(!o||typeof i.body!="string"||!Vt(i,cs))return null}const n=t.aliases||Object.create(null);for(const o in n){const i=n[o],a=i.parent;if(!o||typeof a!="string"||!s[a]&&!n[a]||!Vt(i,cs))return null}return t}const Lo=/^[a-z0-9]+(-[a-z0-9]+)*$/,Pt=(e,t,s,n="")=>{const o=e.split(":");if(e.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;n=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const c=o.pop(),l=o.pop(),d={provider:o.length>0?o[0]:n,prefix:l,name:c};return t&&!it(d)?null:d}const i=o[0],a=i.split("-");if(a.length>1){const c={provider:n,prefix:a.shift(),name:a.join("-")};return t&&!it(c)?null:c}if(s&&n===""){const c={provider:n,prefix:"",name:i};return t&&!it(c,s)?null:c}return null},it=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,Ln=Object.create(null);function Iu(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Ie(e,t){const s=Ln[e]||(Ln[e]=Object.create(null));return s[t]||(s[t]=Iu(e,t))}function _o(e,t){return Fo(t)?Do(t,(s,n)=>{n?e.icons[s]=n:e.missing.add(s)}):[]}function Au(e,t,s){try{if(typeof s.body=="string")return e.icons[t]={...s},!0}catch{}return!1}let qe=!1;function Bo(e){return typeof e=="boolean"&&(qe=e),qe}function _n(e){const t=typeof e=="string"?Pt(e,!0,qe):e;if(t){const s=Ie(t.provider,t.prefix),n=t.name;return s.icons[n]||(s.missing.has(n)?null:void 0)}}function Ou(e,t){const s=Pt(e,!0,qe);if(!s)return!1;const n=Ie(s.provider,s.prefix);return t?Au(n,s.name,t):(n.missing.add(s.name),!0)}function Mu(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),qe&&!t&&!e.prefix){let o=!1;return Fo(e)&&(e.prefix="",Do(e,(i,a)=>{Ou(i,a)&&(o=!0)})),o}const s=e.prefix;if(!it({prefix:s,name:"a"}))return!1;const n=Ie(t,s);return!!_o(n,e)}const $o=Object.freeze({width:null,height:null}),zo=Object.freeze({...$o,...mt}),Du=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Fu=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Bn(e,t,s){if(t===1)return e;if(s=s||100,typeof e=="number")return Math.ceil(e*t*s)/s;if(typeof e!="string")return e;const n=e.split(Du);if(n===null||!n.length)return e;const o=[];let i=n.shift(),a=Fu.test(i);for(;;){if(a){const c=parseFloat(i);isNaN(c)?o.push(i):o.push(Math.ceil(c*t*s)/s)}else o.push(i);if(i=n.shift(),i===void 0)return o.join("");a=!a}}function Lu(e,t="defs"){let s="";const n=e.indexOf("<"+t);for(;n>=0;){const o=e.indexOf(">",n),i=e.indexOf("</"+t);if(o===-1||i===-1)break;const a=e.indexOf(">",i);if(a===-1)break;s+=e.slice(o+1,i).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:s,content:e}}function _u(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Bu(e,t,s){const n=Lu(e);return _u(n.defs,t+n.content+s)}const $u=e=>e==="unset"||e==="undefined"||e==="none";function zu(e,t){const s={...Bs,...e},n={...zo,...t},o={left:s.left,top:s.top,width:s.width,height:s.height};let i=s.body;[s,n].forEach(x=>{const p=[],v=x.hFlip,y=x.vFlip;let w=x.rotate;v?y?w+=2:(p.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),p.push("scale(-1 1)"),o.top=o.left=0):y&&(p.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),p.push("scale(1 -1)"),o.top=o.left=0);let j;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:j=o.height/2+o.top,p.unshift("rotate(90 "+j.toString()+" "+j.toString()+")");break;case 2:p.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:j=o.width/2+o.left,p.unshift("rotate(-90 "+j.toString()+" "+j.toString()+")");break}w%2===1&&(o.left!==o.top&&(j=o.left,o.left=o.top,o.top=j),o.width!==o.height&&(j=o.width,o.width=o.height,o.height=j)),p.length&&(i=Bu(i,'<g transform="'+p.join(" ")+'">',"</g>"))});const a=n.width,c=n.height,l=o.width,d=o.height;let f,h;a===null?(h=c===null?"1em":c==="auto"?d:c,f=Bn(h,l/d)):(f=a==="auto"?l:a,h=c===null?Bn(f,d/l):c==="auto"?d:c);const m={},g=(x,p)=>{$u(p)||(m[x]=p.toString())};g("width",f),g("height",h);const b=[o.left,o.top,l,d];return m.viewBox=b.join(" "),{attributes:m,viewBox:b,body:i}}const Vu=/\sid="(\S+)"/g,Uu="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Hu=0;function Wu(e,t=Uu){const s=[];let n;for(;n=Vu.exec(e);)s.push(n[1]);if(!s.length)return e;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return s.forEach(i=>{const a=typeof t=="function"?t(i):t+(Hu++).toString(),c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+a+o+"$3")}),e=e.replace(new RegExp(o,"g"),""),e}const ls=Object.create(null);function Gu(e,t){ls[e]=t}function ds(e){return ls[e]||ls[""]}function $s(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const zs=Object.create(null),Be=["https://api.simplesvg.com","https://api.unisvg.com"],at=[];for(;Be.length>0;)Be.length===1||Math.random()>.5?at.push(Be.shift()):at.push(Be.pop());zs[""]=$s({resources:["https://api.iconify.design"].concat(at)});function Ku(e,t){const s=$s(t);return s===null?!1:(zs[e]=s,!0)}function Vs(e){return zs[e]}const qu=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let $n=qu();function Qu(e,t){const s=Vs(e);if(!s)return 0;let n;if(!s.maxURL)n=0;else{let o=0;s.resources.forEach(a=>{o=Math.max(o,a.length)});const i=t+".json?icons=";n=s.maxURL-o-s.path.length-i.length}return n}function Yu(e){return e===404}const Xu=(e,t,s)=>{const n=[],o=Qu(e,t),i="icons";let a={type:i,provider:e,prefix:t,icons:[]},c=0;return s.forEach((l,d)=>{c+=l.length+1,c>=o&&d>0&&(n.push(a),a={type:i,provider:e,prefix:t,icons:[]},c=l.length),a.icons.push(l)}),n.push(a),n};function Ju(e){if(typeof e=="string"){const t=Vs(e);if(t)return t.path}return"/"}const Zu=(e,t,s)=>{if(!$n){s("abort",424);return}let n=Ju(t.provider);switch(t.type){case"icons":{const i=t.prefix,c=t.icons.join(","),l=new URLSearchParams({icons:c});n+=i+".json?"+l.toString();break}case"custom":{const i=t.uri;n+=i.slice(0,1)==="/"?i.slice(1):i;break}default:s("abort",400);return}let o=503;$n(e+n).then(i=>{const a=i.status;if(a!==200){setTimeout(()=>{s(Yu(a)?"abort":"next",a)});return}return o=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?s("abort",i):s("next",o)});return}setTimeout(()=>{s("success",i)})}).catch(()=>{s("next",o)})},ef={prepare:Xu,send:Zu};function tf(e){const t={loaded:[],missing:[],pending:[]},s=Object.create(null);e.sort((o,i)=>o.provider!==i.provider?o.provider.localeCompare(i.provider):o.prefix!==i.prefix?o.prefix.localeCompare(i.prefix):o.name.localeCompare(i.name));let n={provider:"",prefix:"",name:""};return e.forEach(o=>{if(n.name===o.name&&n.prefix===o.prefix&&n.provider===o.provider)return;n=o;const i=o.provider,a=o.prefix,c=o.name,l=s[i]||(s[i]=Object.create(null)),d=l[a]||(l[a]=Ie(i,a));let f;c in d.icons?f=t.loaded:a===""||d.missing.has(c)?f=t.missing:f=t.pending;const h={provider:i,prefix:a,name:c};f.push(h)}),t}function Vo(e,t){e.forEach(s=>{const n=s.loaderCallbacks;n&&(s.loaderCallbacks=n.filter(o=>o.id!==t))})}function sf(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let s=!1;const n=e.provider,o=e.prefix;t.forEach(i=>{const a=i.icons,c=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==o)return!0;const d=l.name;if(e.icons[d])a.loaded.push({provider:n,prefix:o,name:d});else if(e.missing.has(d))a.missing.push({provider:n,prefix:o,name:d});else return s=!0,!0;return!1}),a.pending.length!==c&&(s||Vo([e],i.id),i.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),i.abort))})}))}let nf=0;function rf(e,t,s){const n=nf++,o=Vo.bind(null,s,n);if(!t.pending.length)return o;const i={id:n,icons:t,callback:e,abort:o};return s.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(i)}),o}function of(e,t=!0,s=!1){const n=[];return e.forEach(o=>{const i=typeof o=="string"?Pt(o,t,s):o;i&&n.push(i)}),n}var af={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function cf(e,t,s,n){const o=e.resources.length,i=e.random?Math.floor(Math.random()*o):e.index;let a;if(e.random){let E=e.resources.slice(0);for(a=[];E.length>1;){const k=Math.floor(Math.random()*E.length);a.push(E[k]),E=E.slice(0,k).concat(E.slice(k+1))}a=a.concat(E)}else a=e.resources.slice(i).concat(e.resources.slice(0,i));const c=Date.now();let l="pending",d=0,f,h=null,m=[],g=[];typeof n=="function"&&g.push(n);function b(){h&&(clearTimeout(h),h=null)}function x(){l==="pending"&&(l="aborted"),b(),m.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),m=[]}function p(E,k){k&&(g=[]),typeof E=="function"&&g.push(E)}function v(){return{startTime:c,payload:t,status:l,queriesSent:d,queriesPending:m.length,subscribe:p,abort:x}}function y(){l="failed",g.forEach(E=>{E(void 0,f)})}function w(){m.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),m=[]}function j(E,k,S){const C=k!=="success";switch(m=m.filter(O=>O!==E),l){case"pending":break;case"failed":if(C||!e.dataAfterTimeout)return;break;default:return}if(k==="abort"){f=S,y();return}if(C){f=S,m.length||(a.length?N():y());return}if(b(),w(),!e.random){const O=e.resources.indexOf(E.resource);O!==-1&&O!==e.index&&(e.index=O)}l="completed",g.forEach(O=>{O(S)})}function N(){if(l!=="pending")return;b();const E=a.shift();if(E===void 0){if(m.length){h=setTimeout(()=>{b(),l==="pending"&&(w(),y())},e.timeout);return}y();return}const k={status:"pending",resource:E,callback:(S,C)=>{j(k,S,C)}};m.push(k),d++,h=setTimeout(N,e.rotate),s(E,t,k.callback)}return setTimeout(N),v}function Uo(e){const t={...af,...e};let s=[];function n(){s=s.filter(c=>c().status==="pending")}function o(c,l,d){const f=cf(t,c,l,(h,m)=>{n(),d&&d(h,m)});return s.push(f),f}function i(c){return s.find(l=>c(l))||null}return{query:o,find:i,setIndex:c=>{t.index=c},getIndex:()=>t.index,cleanup:n}}function zn(){}const Ut=Object.create(null);function lf(e){if(!Ut[e]){const t=Vs(e);if(!t)return;const s=Uo(t),n={config:t,redundancy:s};Ut[e]=n}return Ut[e]}function df(e,t,s){let n,o;if(typeof e=="string"){const i=ds(e);if(!i)return s(void 0,424),zn;o=i.send;const a=lf(e);a&&(n=a.redundancy)}else{const i=$s(e);if(i){n=Uo(i);const a=e.resources?e.resources[0]:"",c=ds(a);c&&(o=c.send)}}return!n||!o?(s(void 0,424),zn):n.query(t,o,s)().abort}function Vn(){}function uf(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,sf(e)}))}function ff(e){const t=[],s=[];return e.forEach(n=>{(n.match(Lo)?t:s).push(n)}),{valid:t,invalid:s}}function $e(e,t,s){function n(){const o=e.pendingIcons;t.forEach(i=>{o&&o.delete(i),e.icons[i]||e.missing.add(i)})}if(s&&typeof s=="object")try{if(!_o(e,s).length){n();return}}catch(o){console.error(o)}n(),uf(e)}function Un(e,t){e instanceof Promise?e.then(s=>{t(s)}).catch(()=>{t(null)}):t(e)}function hf(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:s,prefix:n}=e,o=e.iconsToLoad;if(delete e.iconsToLoad,!o||!o.length)return;const i=e.loadIcon;if(e.loadIcons&&(o.length>1||!i)){Un(e.loadIcons(o,n,s),f=>{$e(e,o,f)});return}if(i){o.forEach(f=>{const h=i(f,n,s);Un(h,m=>{const g=m?{prefix:n,icons:{[f]:m}}:null;$e(e,[f],g)})});return}const{valid:a,invalid:c}=ff(o);if(c.length&&$e(e,c,null),!a.length)return;const l=n.match(Lo)?ds(s):null;if(!l){$e(e,a,null);return}l.prepare(s,n,a).forEach(f=>{df(s,f,h=>{$e(e,f.icons,h)})})}))}const mf=(e,t)=>{const s=of(e,!0,Bo()),n=tf(s);if(!n.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(n.loaded,n.missing,n.pending,Vn)}),()=>{l=!1}}const o=Object.create(null),i=[];let a,c;return n.pending.forEach(l=>{const{provider:d,prefix:f}=l;if(f===c&&d===a)return;a=d,c=f,i.push(Ie(d,f));const h=o[d]||(o[d]=Object.create(null));h[f]||(h[f]=[])}),n.pending.forEach(l=>{const{provider:d,prefix:f,name:h}=l,m=Ie(d,f),g=m.pendingIcons||(m.pendingIcons=new Set);g.has(h)||(g.add(h),o[d][f].push(h))}),i.forEach(l=>{const d=o[l.provider][l.prefix];d.length&&hf(l,d)}),t?rf(t,n,i):Vn};function pf(e,t){const s={...e};for(const n in t){const o=t[n],i=typeof o;n in $o?(o===null||o&&(i==="string"||i==="number"))&&(s[n]=o):i===typeof s[n]&&(s[n]=n==="rotate"?o%4:o)}return s}const gf=/[\s,]+/;function xf(e,t){t.split(gf).forEach(s=>{switch(s.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function bf(e,t=0){const s=e.replace(/^-?[0-9.]*/,"");function n(o){for(;o<0;)o+=4;return o%4}if(s===""){const o=parseInt(e);return isNaN(o)?0:n(o)}else if(s!==e){let o=0;switch(s){case"%":o=25;break;case"deg":o=90}if(o){let i=parseFloat(e.slice(0,e.length-s.length));return isNaN(i)?0:(i=i/o,i%1===0?n(i):0)}}return t}function vf(e,t){let s=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)s+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+s+">"+e+"</svg>"}function yf(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function wf(e){return"data:image/svg+xml,"+yf(e)}function jf(e){return'url("'+wf(e)+'")'}let Ue;function Nf(){try{Ue=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{Ue=null}}function Sf(e){return Ue===void 0&&Nf(),Ue?Ue.createHTML(e):e}const Ho={...zo,inline:!1},Cf={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Ef={display:"inline-block"},us={backgroundColor:"currentColor"},Wo={backgroundColor:"transparent"},Hn={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Wn={WebkitMask:us,mask:us,background:Wo};for(const e in Wn){const t=Wn[e];for(const s in Hn)t[e+s]=Hn[s]}const kf={...Ho,inline:!0};function Gn(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Rf=(e,t,s)=>{const n=t.inline?kf:Ho,o=pf(n,t),i=t.mode||"svg",a={},c=t.style||{},l={...i==="svg"?Cf:{}};if(s){const p=Pt(s,!1,!0);if(p){const v=["iconify"],y=["provider","prefix"];for(const w of y)p[w]&&v.push("iconify--"+p[w]);l.className=v.join(" ")}}for(let p in t){const v=t[p];if(v!==void 0)switch(p){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":l.ref=v;break;case"className":l[p]=(l[p]?l[p]+" ":"")+v;break;case"inline":case"hFlip":case"vFlip":o[p]=v===!0||v==="true"||v===1;break;case"flip":typeof v=="string"&&xf(o,v);break;case"color":a.color=v;break;case"rotate":typeof v=="string"?o[p]=bf(v):typeof v=="number"&&(o[p]=v);break;case"ariaHidden":case"aria-hidden":v!==!0&&v!=="true"&&delete l["aria-hidden"];break;default:n[p]===void 0&&(l[p]=v)}}const d=zu(e,o),f=d.attributes;if(o.inline&&(a.verticalAlign="-0.125em"),i==="svg"){l.style={...a,...c},Object.assign(l,f);let p=0,v=t.id;return typeof v=="string"&&(v=v.replace(/-/g,"_")),l.dangerouslySetInnerHTML={__html:Sf(Wu(d.body,v?()=>v+"ID"+p++:"iconifyReact"))},u.createElement("svg",l)}const{body:h,width:m,height:g}=e,b=i==="mask"||(i==="bg"?!1:h.indexOf("currentColor")!==-1),x=vf(h,{...f,width:m+"",height:g+""});return l.style={...a,"--svg":jf(x),width:Gn(f.width),height:Gn(f.height),...Ef,...b?us:Wo,...c},u.createElement("span",l)};Bo(!0);Gu("",ef);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,s="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!Mu(n))&&console.error(s)}catch{console.error(s)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let s in t){const n="IconifyProviders["+s+"] is invalid.";try{const o=t[s];if(typeof o!="object"||!o||o.resources===void 0)continue;Ku(s,o)||console.error(n)}catch{console.error(n)}}}}function Go(e){const[t,s]=u.useState(!!e.ssr),[n,o]=u.useState({});function i(g){if(g){const b=e.icon;if(typeof b=="object")return{name:"",data:b};const x=_n(b);if(x)return{name:b,data:x}}return{name:""}}const[a,c]=u.useState(i(!!e.ssr));function l(){const g=n.callback;g&&(g(),o({}))}function d(g){if(JSON.stringify(a)!==JSON.stringify(g))return l(),c(g),!0}function f(){var g;const b=e.icon;if(typeof b=="object"){d({name:"",data:b});return}const x=_n(b);if(d({name:b,data:x}))if(x===void 0){const p=mf([b],f);o({callback:p})}else x&&((g=e.onLoad)===null||g===void 0||g.call(e,b))}u.useEffect(()=>(s(!0),l),[]),u.useEffect(()=>{t&&f()},[e.icon,t]);const{name:h,data:m}=a;return m?Rf({...Bs,...m},e,h):e.children?e.children:e.fallback?e.fallback:u.createElement("span",{})}const L=u.forwardRef((e,t)=>Go({...e,_ref:t}));u.forwardRef((e,t)=>Go({inline:!0,...e,_ref:t}));function Ko({onThermometerDetected:e,sessionConfig:t,language:s,sessionId:n}){const{videoRef:o,canvasRef:i,isInitialized:a,error:c,startCamera:l,stopCamera:d}=Eu(),f=u.useRef(null),[h,m]=u.useState(!1),[g,b]=u.useState(!1),[x,p]=u.useState([]),[v,y]=u.useState(!1),[w,j]=u.useState([640,480]),N=u.useRef(0),E=2e3,k=M=>{const R=M.toLowerCase();return R.startsWith("thermometer")?{"thermometer (lo error)":"#EF4444","thermometer (measuring)":"#3B82F6","thermometer (no display found)":"#F59E0B","thermometer (off)":"#6B7280","thermometer button":"#10B981","thermometer in ear":"#8B5CF6","thermometer in mouth":"#EC4899","thermometer in nose":"#6366F1","thermometer on face":"#F97316"}[R]||"#10B981":R.startsWith("ir thermometer")?{"ir thermometer display":"#06B6D4","ir thermometer in ear":"#10B981"," ir thermometer in mouth":"#EF4444","ir thermometer on face":"#F59E0B","ir thermometer power button":"#3B82F6","ir thermometer sensor":"#8B5CF6"}[R]||"#06B6D4":{"air jack":"#EC4899","arm cuff (correct position)":"#6366F1","arm cuff (unwrapped)":"#F97316","arm cuff (wrong position)":"#F59E0B","blood pressure monitor display (measuring)":"#3B82F6","blood pressure monitor display (off)":"#EF4444","blood pressure pressure monitor on button":"#06B6D4","tube head (attached)":"#10B981","tube head (detached)":"#000000"}[R]||"#8B5CF6"};u.useEffect(()=>{const M=i.current,R=f.current;M&&R&&(M.width=640,M.height=480,R.width=640,R.height=480)},[]),u.useEffect(()=>{a&&!c&&(y(!0),setTimeout(()=>{m(!0)},1e3))},[a,c]),u.useEffect(()=>{if(!v||!o.current||!i.current)return;const R=setInterval(()=>{const D=i.current,I=o.current;if(!D||!I)return;const _=D.getContext("2d");_&&(_.clearRect(0,0,D.width,D.height),_.drawImage(I,0,0,D.width,D.height))},1e3/60);return()=>clearInterval(R)},[v]),u.useEffect(()=>{if(!h||!v||!o.current)return;const R=setInterval(async()=>{const D=Date.now();if(!(D-N.current<E)&&(N.current=D,!g)){b(!0);try{const I=i.current,_=o.current;if(!I||!_){b(!1);return}const F=document.createElement("canvas");F.width=I.width,F.height=I.height;const z=F.getContext("2d");if(!z){b(!1);return}z.drawImage(_,0,0,F.width,F.height);const q=F.toDataURL("image/jpeg",.8).split(",")[1],ee=await fetch("https://simis-cv-alb-578986465.us-west-2.elb.amazonaws.com/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageData:q,sessionId:n||"default-session"})});if(ee.ok){const A=await ee.json();A.detections&&A.detections.length>0?(p(A.detections),e&&e(A.detections),S(A.detections)):(p([]),C())}else console.error("CV API error:",ee.statusText)}catch(I){console.error("Detection error:",I)}finally{b(!1)}}},E);return()=>clearInterval(R)},[h,v,e,n]);const S=u.useCallback(M=>{const R=f.current;if(!R)return;const D=R.getContext("2d");D&&(D.clearRect(0,0,R.width,R.height),M.forEach(I=>{const[_,F,z,Q]=I.bbox,q=k(I.class);D.strokeStyle=q,D.lineWidth=3,D.strokeRect(_,F,z,Q);const ee=`${I.class} (${(I.confidence*100).toFixed(1)}%)`,A=D.measureText(ee).width+10,X=20;D.fillStyle=q,D.fillRect(_,F-X,A,X),D.fillStyle="#FFFFFF",D.font="12px Arial",D.fillText(ee,_+5,F-5)}))},[]),C=u.useCallback(()=>{const M=f.current;if(!M)return;const R=M.getContext("2d");R&&R.clearRect(0,0,M.width,M.height)},[]),O=u.useCallback(()=>{v?(d(),y(!1),m(!1),p([]),C()):(l(),y(!0),setTimeout(()=>{m(!0)},1e3))},[v,l,d,C]),T=u.useCallback(()=>{m(!h),h||(p([]),C())},[h,C]),P=u.useCallback(()=>{if(p([]),f.current){const M=f.current.getContext("2d");M&&M.clearRect(0,0,f.current.width,f.current.height)}},[]);return r.jsx("div",{className:"w-full h-full",children:r.jsx("div",{className:"h-full flex flex-col",children:r.jsxs("div",{className:"flex-1 relative overflow-hidden bg-card backdrop-blur-md",children:[r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover z-0"}),r.jsx("canvas",{ref:i,className:"absolute inset-0 w-full h-full object-cover z-10"}),!v&&r.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-20"}),r.jsx("canvas",{ref:f,className:"absolute inset-0 w-full h-full object-cover pointer-events-none z-30"})]}),r.jsx("div",{className:"absolute top-4 right-4 flex items-center space-x-2 z-40",children:h?r.jsxs("div",{className:"text-xs text-white bg-black/50 px-4 py-2 rounded-full flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-yellow-500 animate-pulse":"bg-primary"}`}),r.jsx("span",{children:g?"Processing...":"Detecting"})]}):r.jsxs("div",{className:"text-xs text-white bg-black/50 px-4 py-2 rounded-full flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-destructive"}`}),r.jsx("span",{children:a?"Ready":"Initializing..."})]})}),x.length>0&&r.jsxs("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-full bg-black/50 text-white text-sm flex items-center space-x-2 z-40",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),r.jsxs("span",{children:[x.length," detection",x.length!==1?"s":""," found"]})]}),c&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",children:r.jsxs("div",{className:"text-center text-foreground max-w-sm mx-auto px-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-destructive/20 flex items-center justify-center",children:r.jsx(L,{icon:"mingcute:alert-fill",className:"w-8 h-8 text-destructive"})}),r.jsx("p",{className:"text-sm opacity-75 leading-relaxed mb-4",children:c})]})}),!v&&!c&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",children:r.jsxs("div",{className:"text-center text-foreground",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center",children:r.jsx(L,{icon:"mingcute:camera-2-off-line",className:"w-8 h-8 text-primary"})}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Camera Off"})]})}),r.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex flex-col items-center space-y-3 z-40",children:[!v&&!c&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/80 bg-black/50 px-3 py-2 rounded-full",children:[r.jsx(L,{icon:"mingcute:camera-2-line",className:"w-4 h-4 text-primary"}),r.jsx("span",{children:"Click the camera button to enable"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(V,{onClick:O,variant:"ghost",size:"icon",className:`rounded-full shadow-lg w-12 h-12 transition-opacity duration-200 ${v?"bg-white text-black opacity-60 hover:opacity-100":"bg-black/50 text-white opacity-60 hover:opacity-100"}`,children:r.jsx(L,{icon:v?"mingcute:camera-2-off-line":"mingcute:camera-2-line",className:"w-5 h-5"})}),v&&r.jsx(V,{onClick:T,variant:"ghost",size:"icon",className:`rounded-full shadow-lg w-12 h-12 transition-opacity duration-200 ${h?"bg-white text-black opacity-60 hover:opacity-100":"bg-black/50 text-white opacity-60 hover:opacity-100"}`,children:r.jsx(L,{icon:h?"mingcute:stop-line":"mingcute:play-line",className:"w-5 h-5"})}),x.length>0&&r.jsx(V,{onClick:P,variant:"ghost",size:"icon",className:"rounded-full shadow-lg w-12 h-12 bg-black/50 text-white opacity-60 hover:opacity-100",children:r.jsx(L,{icon:"mingcute:refresh-anticlockwise-1-fill",className:"w-5 h-5"})})]})]})]})})})}function qo(e,[t,s]){return Math.min(s,Math.max(t,e))}var Pf=u.createContext(void 0);function Us(e){const t=u.useContext(Pf);return e||t||"ltr"}function Qo(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Yo=["PageUp","PageDown"],Xo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Jo={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},De="Slider",[fs,Tf,If]=Ns(De),[Zo,sm]=pe(De,[If]),[Af,Tt]=Zo(De),ei=u.forwardRef((e,t)=>{const{name:s,min:n=0,max:o=100,step:i=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:d=[n],value:f,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:b,...x}=e,p=u.useRef(new Set),v=u.useRef(0),w=a==="horizontal"?Of:Mf,[j=[],N]=vt({prop:f,defaultProp:d,onChange:T=>{[...p.current][v.current]?.focus(),h(T)}}),E=u.useRef(j);function k(T){const P=Bf(j,T);O(T,P)}function S(T){O(T,v.current)}function C(){const T=E.current[v.current];j[v.current]!==T&&m(j)}function O(T,P,{commit:M}={commit:!1}){const R=Uf(i),D=Hf(Math.round((T-n)/i)*i+n,R),I=qo(D,[n,o]);N((_=[])=>{const F=Lf(_,I,P);if(Vf(F,l*i)){v.current=F.indexOf(I);const z=String(F)!==String(_);return z&&M&&m(F),z?F:_}else return _})}return r.jsx(Af,{scope:e.__scopeSlider,name:s,disabled:c,min:n,max:o,valueIndexToChangeRef:v,thumbs:p.current,values:j,orientation:a,form:b,children:r.jsx(fs.Provider,{scope:e.__scopeSlider,children:r.jsx(fs.Slot,{scope:e.__scopeSlider,children:r.jsx(w,{"aria-disabled":c,"data-disabled":c?"":void 0,...x,ref:t,onPointerDown:U(x.onPointerDown,()=>{c||(E.current=j)}),min:n,max:o,inverted:g,onSlideStart:c?void 0:k,onSlideMove:c?void 0:S,onSlideEnd:c?void 0:C,onHomeKeyDown:()=>!c&&O(n,0,{commit:!0}),onEndKeyDown:()=>!c&&O(o,j.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:P})=>{if(!c){const D=Yo.includes(T.key)||T.shiftKey&&Xo.includes(T.key)?10:1,I=v.current,_=j[I],F=i*D*P;O(_+F,I,{commit:!0})}}})})})})});ei.displayName=De;var[ti,si]=Zo(De,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Of=u.forwardRef((e,t)=>{const{min:s,max:n,dir:o,inverted:i,onSlideStart:a,onSlideMove:c,onSlideEnd:l,onStepKeyDown:d,...f}=e,[h,m]=u.useState(null),g=J(t,w=>m(w)),b=u.useRef(void 0),x=Us(o),p=x==="ltr",v=p&&!i||!p&&i;function y(w){const j=b.current||h.getBoundingClientRect(),N=[0,j.width],k=Hs(N,v?[s,n]:[n,s]);return b.current=j,k(w-j.left)}return r.jsx(ti,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:r.jsx(ni,{dir:x,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=y(w.clientX);a?.(j)},onSlideMove:w=>{const j=y(w.clientX);c?.(j)},onSlideEnd:()=>{b.current=void 0,l?.()},onStepKeyDown:w=>{const N=Jo[v?"from-left":"from-right"].includes(w.key);d?.({event:w,direction:N?-1:1})}})})}),Mf=u.forwardRef((e,t)=>{const{min:s,max:n,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:l,...d}=e,f=u.useRef(null),h=J(t,f),m=u.useRef(void 0),g=!o;function b(x){const p=m.current||f.current.getBoundingClientRect(),v=[0,p.height],w=Hs(v,g?[n,s]:[s,n]);return m.current=p,w(x-p.top)}return r.jsx(ti,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:r.jsx(ni,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const p=b(x.clientY);i?.(p)},onSlideMove:x=>{const p=b(x.clientY);a?.(p)},onSlideEnd:()=>{m.current=void 0,c?.()},onStepKeyDown:x=>{const v=Jo[g?"from-bottom":"from-top"].includes(x.key);l?.({event:x,direction:v?-1:1})}})})}),ni=u.forwardRef((e,t)=>{const{__scopeSlider:s,onSlideStart:n,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:l,...d}=e,f=Tt(De,s);return r.jsx(H.span,{...d,ref:t,onKeyDown:U(e.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(c(h),h.preventDefault()):Yo.concat(Xo).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:U(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(m)?m.focus():n(h)}),onPointerMove:U(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&o(h)}),onPointerUp:U(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),ri="SliderTrack",oi=u.forwardRef((e,t)=>{const{__scopeSlider:s,...n}=e,o=Tt(ri,s);return r.jsx(H.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:t})});oi.displayName=ri;var hs="SliderRange",ii=u.forwardRef((e,t)=>{const{__scopeSlider:s,...n}=e,o=Tt(hs,s),i=si(hs,s),a=u.useRef(null),c=J(t,a),l=o.values.length,d=o.values.map(m=>ci(m,o.min,o.max)),f=l>1?Math.min(...d):0,h=100-Math.max(...d);return r.jsx(H.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:c,style:{...e.style,[i.startEdge]:f+"%",[i.endEdge]:h+"%"}})});ii.displayName=hs;var ms="SliderThumb",ai=u.forwardRef((e,t)=>{const s=Tf(e.__scopeSlider),[n,o]=u.useState(null),i=J(t,c=>o(c)),a=u.useMemo(()=>n?s().findIndex(c=>c.ref.current===n):-1,[s,n]);return r.jsx(Df,{...e,ref:i,index:a})}),Df=u.forwardRef((e,t)=>{const{__scopeSlider:s,index:n,name:o,...i}=e,a=Tt(ms,s),c=si(ms,s),[l,d]=u.useState(null),f=J(t,y=>d(y)),h=l?a.form||!!l.closest("form"):!0,m=Fs(l),g=a.values[n],b=g===void 0?0:ci(g,a.min,a.max),x=_f(n,a.values.length),p=m?.[c.size],v=p?$f(p,b,c.direction):0;return u.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${v}px)`},children:[r.jsx(fs.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(H.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:f,style:g===void 0?{display:"none"}:e.style,onFocus:U(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),h&&r.jsx(Ff,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},n)]})});ai.displayName=ms;var Ff=e=>{const{value:t,...s}=e,n=u.useRef(null),o=Qo(t);return u.useEffect(()=>{const i=n.current,a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(o!==t&&l){const d=new Event("input",{bubbles:!0});l.call(i,t),i.dispatchEvent(d)}},[o,t]),r.jsx("input",{style:{display:"none"},...s,ref:n,defaultValue:t})};function Lf(e=[],t,s){const n=[...e];return n[s]=t,n.sort((o,i)=>o-i)}function ci(e,t,s){const i=100/(s-t)*(e-t);return qo(i,[0,100])}function _f(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Bf(e,t){if(e.length===1)return 0;const s=e.map(o=>Math.abs(o-t)),n=Math.min(...s);return s.indexOf(n)}function $f(e,t,s){const n=e/2,i=Hs([0,50],[0,n]);return(n-i(t)*s)*s}function zf(e){return e.slice(0,-1).map((t,s)=>e[s+1]-t)}function Vf(e,t){if(t>0){const s=zf(e);return Math.min(...s)>=t}return!0}function Hs(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(s-e[0])}}function Uf(e){return(String(e).split(".")[1]||"").length}function Hf(e,t){const s=Math.pow(10,t);return Math.round(e*s)/s}var li=ei,Wf=oi,Gf=ii,Kf=ai;const di=u.forwardRef(({className:e,...t},s)=>r.jsxs(li,{ref:s,className:Y("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(Wf,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(Gf,{className:"absolute h-full bg-primary"})}),r.jsx(Kf,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));di.displayName=li.displayName;function qf(){const e=u.useRef(null),t=u.useCallback((i,a="en",c=1)=>{if(!("speechSynthesis"in window)){console.warn("Speech synthesis not supported");return}window.speechSynthesis.cancel();const l=new SpeechSynthesisUtterance(i),d={en:"en-US",id:"id-ID",ms:"ms-MY",th:"th-TH",vi:"vi-VN",fil:"fil-PH",my:"my-MM",lo:"lo-LA",km:"km-KH",bn:"ms-BN"};l.lang=d[a]||"en-US",l.rate=c,l.pitch=1,l.volume=.8,e.current=l,window.speechSynthesis.speak(l)},[]),s=u.useCallback(()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel()},[]),n=u.useCallback(()=>{"speechSynthesis"in window&&window.speechSynthesis.pause()},[]),o=u.useCallback(()=>{"speechSynthesis"in window&&window.speechSynthesis.resume()},[]);return{speak:t,stop:s,pause:n,resume:o}}function ui({language:e,sessionId:t,currentStep:s=1,totalSteps:n=5,title:o,description:i,checkpoints:a=[],onNextStep:c,onPreviousStep:l,canGoNext:d=!0,canGoPrevious:f=!0}){const[h,m]=u.useState(!1),[g,b]=u.useState(1),[x,p]=u.useState(!1),[v,y]=u.useState([]),{speak:w,stop:j}=qf(),N={number:s,title:o||"Wrap the Cuff Around Your Arm",description:i||"Place the cuff around your upper arm, about 1 inch above your elbow. The cuff should be snug but not too tight.",translation:{id:{title:"Lingkarkan Manset di Lengan Anda",description:"Lingkarkan manset di sekitar lengan atas Anda, sekitar 1 inci di atas siku. Manset harus pas tetapi tidak terlalu ketat."},th:{title:"",description:"  1  "},vi:{title:"Qun vng bt quanh cnh tay",description:"t vng bt quanh cnh tay trn, cch khuu tay khong 1 inch. Vng bt phi va kht nhng khng qu cht."},fil:{title:"Ikabit ang Cuff sa Braso",description:"Ilagay ang cuff sa paligid ng inyong upper arm, mga 1 pulgada sa itaas ng siko. Ang cuff ay dapat makakasya ngunit hindi masyadong mahigpit."}},checkpoints:a.length>0?a:["Cuff Position","Tightness Check"]},E=()=>{if(h)j(),m(!1);else{let C=N.description;e!=="en"&&N.translation[e]&&(C=N.translation[e]?.description||N.description),C&&(w(C,e,g),m(!0))}},k=()=>{c&&c()},S=C=>{y(O=>O.includes(C)?O.filter(T=>T!==C):[...O,C])};return u.useEffect(()=>{y([])},[s]),r.jsx("div",{className:"step-card h-full",children:r.jsx(G,{className:"shadow-lg border border-[rgba(139,92,246,0.3)] h-full",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:r.jsxs(K,{className:"p-6 flex flex-col h-full",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80 mb-2",children:[r.jsx("span",{className:"font-medium",children:"Progress"}),r.jsxs("span",{className:"text-xs text-white/60",children:["Step ",N.number," of ",n]})]}),r.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${v.length/N.checkpoints.length*100}%`}})})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-white text-lg mb-3 leading-tight",children:e!=="en"&&N.translation[e]&&N.translation[e]?.title||N.title}),r.jsx("p",{className:"text-white/90 text-sm leading-tight mb-4",children:e!=="en"&&N.translation[e]&&N.translation[e]?.description||N.description}),r.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10 mb-3",children:[r.jsxs("h4",{className:"text-sm font-semibold text-white/90 mb-2 flex items-center",children:[r.jsx(L,{icon:"mingcute:check-list-line",className:"w-4 h-4 mr-2 text-primary"}),"Checklist"]}),r.jsx("div",{className:"space-y-2",children:N.checkpoints.map(C=>r.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer hover:bg-white/5 rounded-lg p-1.5 transition-colors",onClick:()=>S(C),children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${v.includes(C)?"bg-green-500 border-green-500 scale-110":"border-white/40 bg-transparent hover:border-white/60"}`,children:v.includes(C)&&r.jsx(L,{icon:"mingcute:check-line",className:"w-2.5 h-2.5 text-white"})})}),r.jsx("span",{className:`text-sm font-medium transition-colors ${v.includes(C)?"text-green-400 opacity-75":"text-white/80"}`,children:C})]},C))})]}),d&&r.jsxs("div",{className:"flex space-x-3 mb-3",children:[f&&r.jsxs(V,{onClick:l,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:[r.jsx(L,{icon:"mingcute:arrow-to-left-fill",className:"w-4 h-4 mr-2"}),"Previous"]}),r.jsxs(V,{onClick:k,className:"flex-1 bg-gradient-to-r from-[#8B5CF6] to-[#A78BFA] hover:from-[#8B5CF6] hover:to-[#A78BFA] text-white py-3 shadow-lg text-base font-semibold",children:["Next",r.jsx(L,{icon:"mingcute:large-arrow-right-fill",className:"w-5 h-5 ml-2"})]})]}),!d&&r.jsxs("div",{className:"text-center py-4 px-6 bg-green-500/10 border border-green-500/20 rounded-lg mb-3",children:[r.jsx(L,{icon:"mingcute:check-circle-fill",className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("h3",{className:"text-green-400 font-semibold mb-1",children:"Congratulations!"}),r.jsx("p",{className:"text-green-400/80 text-sm",children:"You've completed all steps successfully."})]})]}),r.jsxs("div",{className:"bg-[rgba(139,92,246,0.1)] rounded-lg p-3 border border-[rgba(139,92,246,0.3)]",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-bold text-white",children:"Voice Guidance"}),r.jsxs("span",{className:"text-xs text-white/80",children:[r.jsx("span",{className:"font-semibold",children:e==="en"?"English":e==="id"?"Bahasa Indonesia":e==="th"?"":e==="vi"?"Ting Vit":e==="fil"?"Filipino":"English"}),"  ",r.jsx("span",{className:"font-semibold",children:g===1?"Normal":`${g}x`})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(V,{onClick:E,size:"sm",className:"bg-[#8B5CF6] hover:bg-[#7C3AED] text-white p-2 rounded-full shadow-lg w-8 h-8",children:h?r.jsx(L,{icon:"mingcute:pause-fill",className:"w-4 h-4"}):r.jsx(L,{icon:"mingcute:play-fill",className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-white mb-2",children:[r.jsx("span",{children:"0.5x"}),r.jsx("span",{children:"1.0x"}),r.jsx("span",{children:"1.5x"}),r.jsx("span",{children:"2.0x"})]}),r.jsx(di,{value:[g],onValueChange:C=>b(C[0]),min:.5,max:2,step:.1,className:"w-full"})]})]})]})]})]})})})}function Qf({onDeviceSelect:e}){const{data:t=[],isLoading:s}=br({queryKey:["/api/devices"]});return s?r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:4}).map((n,o)=>r.jsxs(G,{className:"animate-pulse",children:[r.jsx("div",{className:"h-32 bg-gray-200"}),r.jsxs(K,{className:"p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]},o))})}):r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Supported Devices"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Select a device to start guided instructions"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(n=>r.jsxs(G,{className:"overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(n.id),children:[n.imageUrl&&r.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-32 object-cover"}),r.jsxs(K,{className:"p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:n.name}),r.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[n.stepCount," guided steps"]}),r.jsx("div",{className:"flex items-center text-xs",children:n.isActive?r.jsxs(r.Fragment,{children:[r.jsx(Zc,{className:"w-3 h-3 mr-1 text-[hsl(122,39%,49%)]"}),r.jsx("span",{className:"text-[hsl(122,39%,49%)]",children:"Ready"})]}):r.jsxs(r.Fragment,{children:[r.jsx(tl,{className:"w-3 h-3 mr-1 text-gray-400"}),r.jsx("span",{className:"text-gray-400",children:"Coming Soon"})]})})]})]},n.id))})]})}const fi=u.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));fi.displayName="Input";const Yf={ASSETS_PREFIX:void 0,BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SITE:void 0,SSR:!1};function Xf(e){const[t,s]=u.useState(!1),n=u.useRef(null),o=u.useRef(),i=()=>{try{const c=window.location.protocol==="https:"?"wss:":"ws:",l=Yf?.VITE_WS_BASE_URL;let d;l?d=`${l.replace(/\/$/,"")}/chat-ws`:d="wss://2e7j2vait1.execute-api.us-east-1.amazonaws.com/prod/chat-ws",console.log("Attempting WebSocket connection to:",d);const f=new WebSocket(d);f.onopen=()=>{console.log("WebSocket connected to:",d),s(!0)},f.onmessage=h=>{try{const m=JSON.parse(h.data);e?.(m)}catch(m){console.error("Error parsing WebSocket message:",m)}},f.onclose=h=>{console.log("WebSocket disconnected:",h.code,h.reason),s(!1),o.current=setTimeout(()=>{console.log("Attempting to reconnect WebSocket..."),i()},3e3)},f.onerror=h=>{console.error("WebSocket error:",h),s(!1)},n.current=f}catch(c){console.error("Error creating WebSocket connection:",c)}};return u.useEffect(()=>(i(),()=>{o.current&&clearTimeout(o.current),n.current&&n.current.close()}),[]),{isConnected:t,sendMessage:c=>{n.current&&n.current.readyState===WebSocket.OPEN?n.current.send(JSON.stringify(c)):console.warn("WebSocket is not connected")}}}typeof window<"u"&&(window.location.hostname.includes("cloudfront.net")||window.location.hostname.includes("amazonaws.com"));const Jf={baseUrl:"https://2e7j2vait1.execute-api.us-east-1.amazonaws.com/prod",wsUrl:"wss://2e7j2vait1.execute-api.us-east-1.amazonaws.com/prod/chat-ws",chatEndpoint:"https://2e7j2vait1.execute-api.us-east-1.amazonaws.com/prod/chat",statusEndpoint:"https://2e7j2vait1.execute-api.us-east-1.amazonaws.com/prod/status",guidanceEndpoint:"https://2e7j2vait1.execute-api.us-east-1.amazonaws.com/prod/guidance",mockDevices:[{id:"thermometer-001",name:"Digital Thermometer",type:"thermometer",brand:"Generic",model:"DT-100",description:"Digital thermometer for oral, rectal, and axillary temperature measurement"},{id:"bp-monitor-001",name:"Blood Pressure Monitor",type:"blood_pressure",brand:"Generic",model:"BP-200",description:"Automatic blood pressure monitor with digital display"},{id:"glucose-meter-001",name:"Glucose Meter",type:"glucose",brand:"Generic",model:"GM-300",description:"Blood glucose monitoring device"}],mockInstructions:{"thermometer-001":[{id:1,stepNumber:1,title:"Prepare the Thermometer",description:"Clean the thermometer with alcohol and ensure it's dry before use.",imageUrl:"/Demo 1.jpg",estimatedTime:"30 seconds"},{id:2,stepNumber:2,title:"Position Correctly",description:"Place the thermometer under your tongue or in your armpit. Keep your mouth closed.",imageUrl:"/Demo 2.jpg",estimatedTime:"1 minute"},{id:3,stepNumber:3,title:"Wait for Reading",description:"Hold the thermometer in place until you hear a beep sound indicating the reading is complete.",imageUrl:"/Demo 3.jpg",estimatedTime:"30 seconds"},{id:4,stepNumber:4,title:"Read Temperature",description:"Read the temperature display. Normal body temperature is 98.6F (37C).",imageUrl:"/Demo 4.jpg",estimatedTime:"10 seconds"}]}},Zf=["How do I position the device correctly?","What does this error message mean?","How long should I wait for results?","Is this reading normal?","What should I do if the device doesn't turn on?","How do I clean the device?","Can I use this on children?","What's the difference between oral and rectal readings?"];function hi({sessionId:e,language:t,showToggleButton:s=!0,sessionConfig:n}){const[o,i]=u.useState(!s),[a,c]=u.useState(""),[l,d]=u.useState(!1),[f,h]=u.useState(!0),m=u.useRef(null),g=gr(),{data:b=[],isLoading:x}=br({queryKey:["/api/chat",e],enabled:o}),{sendMessage:p,isConnected:v}=Xf(S=>{g.setQueryData(["/api/chat",e],(C=[])=>[...C,S.message])}),y=async(S,C,O)=>{try{const T=await fetch(Jf.chatEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:S}]})});if(!T.ok)throw new Error(`HTTP error! status: ${T.status}`);const P=await T.json(),M={id:Date.now()+1,isUser:!1,message:P.response||P.message||"I'm sorry, I couldn't process your request right now."};return g.setQueryData(["/api/chat",e],(R=[])=>[...R,M]),P}catch(T){console.error("API chat error:",T);const P={id:Date.now()+1,isUser:!1,message:"I'm sorry, I'm having trouble connecting right now. Please try again in a moment."};g.setQueryData(["/api/chat",e],(M=[])=>[...M,P])}};u.useEffect(()=>{m.current?.scrollIntoView({behavior:"smooth"})},[b]);const w=async()=>{if(!a.trim())return;const S=a;c("");const C={id:Date.now(),isUser:!0,message:S};g.setQueryData(["/api/chat",e],(T=[])=>[...T,C]),v?p({type:"chat_message",sessionId:e,content:S,language:t,sessionConfig:n||{language:t,device:"thermometer",guidanceStyle:"direct",voiceOption:"text"}}):(console.log("WebSocket not connected, using HTTP API fallback"),await y(S))},j=async S=>{if(!S.trim())return;const C={id:Date.now(),isUser:!0,message:S};g.setQueryData(["/api/chat",e],(T=[])=>[...T,C]),v?p({type:"chat_message",sessionId:e,content:S,language:t,sessionConfig:n||{language:t,device:"thermometer",guidanceStyle:"direct",voiceOption:"text"}}):(console.log("WebSocket not connected, using HTTP API fallback"),await y(S))},N=u.useRef(null),E=()=>{if(l){N.current&&(N.current.stop(),N.current=null),d(!1);return}if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Speech recognition is not supported in this browser");return}const S=window.webkitSpeechRecognition||window.SpeechRecognition,C=new S;N.current=C;const O={en:"en-US",id:"id-ID",ms:"ms-MY",th:"th-TH",vi:"vi-VN",fil:"fil-PH",my:"my-MM",lo:"lo-LA",km:"km-KH",bn:"ms-BN"};C.lang=O[t]||"en-US",C.continuous=!1,C.interimResults=!1,C.onstart=()=>{d(!0)},C.onresult=T=>{const P=T.results[0][0].transcript;c(P),d(!1),N.current=null},C.onerror=()=>{d(!1),N.current=null},C.onend=()=>{d(!1),N.current=null},C.start()},k=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),w())};return r.jsxs("div",{className:"relative",children:[o&&r.jsxs(G,{className:"w-full h-[500px] border-0 shadow-none flex flex-col",children:[r.jsx(Ve,{className:"text-white p-4 rounded-t-xl flex-shrink-0",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{title:v?"WebSocket Connected":"Using HTTP API",children:r.jsx(L,{icon:"mingcute:message-3-fill",className:`w-4 h-4 ${v?"text-green-400":"text-blue-400"}`})}),r.jsx("span",{className:"font-medium text-sm",children:"Chat with SIMIS"}),r.jsx("span",{className:"text-xs text-white/60",children:v?"Live":"API"})]})}),r.jsxs(K,{className:"p-0 flex flex-col flex-1 min-h-0",children:[r.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:x?r.jsx("div",{className:"text-center text-gray-500",children:"Loading messages..."}):r.jsxs("div",{className:"space-y-3 p-2",children:[r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"rounded-lg text-white",children:r.jsx("p",{className:"text-sm",children:"Hi! I'm here to help with your medical device guidance. What can I assist you with?"})})}),f&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-xs text-white/70 mb-2",children:"Quick questions:"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:Zf.slice(0,4).map((S,C)=>r.jsx("button",{onClick:()=>j(S),className:"text-left text-sm bg-background hover:bg-background/80 text-white border border-border rounded-lg px-4 py-2 transition-colors",children:S},C))})]}),b.map(S=>r.jsx("div",{className:`flex ${S.isUser?"justify-end":"justify-start"} mb-4`,children:r.jsx("div",{className:`rounded-lg p-3 ${S.isUser?"bg-white/10 text-white":"text-white"}`,children:r.jsx("p",{className:"text-sm",children:S.message})})},S.id)),r.jsx("div",{ref:m})]})}),r.jsx("div",{className:"pt-4 flex-shrink-0 border-t border-border",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(fi,{value:a,onChange:S=>c(S.target.value),onKeyPress:k,placeholder:"Ask a question...",className:"flex-1 text-sm rounded-lg min-w-0"}),r.jsx(V,{onClick:w,disabled:!a.trim(),size:"sm",className:"medical-blue hover:bg-white hover:text-primary rounded-lg w-10 h-10 p-0 flex-shrink-0",children:r.jsx(al,{className:"w-4 h-4"})}),r.jsx(V,{onClick:E,size:"sm",variant:"outline",className:`rounded-lg w-10 h-10 p-0 flex-shrink-0 ${l?"bg-red-100 border-red-300 hover:bg-red-200":"bg-gray-100 hover:bg-gray-200"}`,children:r.jsx(ol,{className:`w-4 h-4 ${l?"text-red-600":"text-gray-600"}`})})]})})]})]}),s&&r.jsxs(V,{onClick:()=>i(!o),className:"w-full medical-blue hover:bg-[hsl(207,90%,50%)] text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",children:[r.jsx(rl,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:"Chat with SIMIS"})]})]})}function eh({currentTab:e,onTabChange:t}){const s=[{id:"scan",icon:ss,label:"Scan"},{id:"devices",icon:nl,label:"Devices"},{id:"history",icon:sl,label:"History"},{id:"settings",icon:cl,label:"Settings"}];return r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#1E1B4B] border-t border-[rgba(139,92,246,0.3)] max-w-md mx-auto h-20 z-50 shadow-lg",children:r.jsx("div",{className:"flex",children:s.map(({id:n,icon:o,label:i})=>r.jsxs(V,{variant:"ghost",onClick:()=>t(n),className:`flex-1 flex-col space-y-1 p-4 h-auto transition-all duration-200 ${e===n?"text-[#8B5CF6] bg-[rgba(139,92,246,0.1)]":"text-[#94A3B8] hover:text-[#A78BFA] hover:bg-[rgba(139,92,246,0.05)]"}`,children:[r.jsx(o,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs font-medium",children:i})]},n))})})}function Kn({onBack:e,sessionConfig:t,onShowSessionSummary:s}){const[n,o]=u.useState("scan"),[i,a]=u.useState(t?.language||"en"),[c,l]=u.useState(null),[d,f]=u.useState(!0),[h,m]=u.useState(null),[g,b]=u.useState(!1),x=()=>{b(!0)},p=()=>{b(!1),e&&e()},v=()=>{b(!1)},y=(w,j)=>{const N=[{value:"en",label:" English"},{value:"id",label:" Bahasa Indonesia"},{value:"ms",label:" Bahasa Melayu"},{value:"th",label:" "},{value:"vi",label:" Ting Vit"},{value:"fil",label:" Filipino"},{value:"my",label:" "},{value:"lo",label:" "},{value:"km",label:" "},{value:"bn",label:" Brunei Malay"}],E=[{value:"thermometer",label:"Digital thermometer"},{value:"ear",label:"Ear thermometer"},{value:"forehead",label:"Forehead thermometer"},{value:"blood-pressure",label:"Blood pressure monitor"},{value:"glucose",label:"Blood glucose meter"}],k=[{value:"direct",label:"Direct instructions"},{value:"gentle",label:"Gentle suggestions"},{value:"detailed",label:"Detailed explanations"}],S=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"text",label:"Text only"}];switch(w){case"language":return N.find(C=>C.value===j)?.label||"";case"device":return E.find(C=>C.value===j)?.label||"";case"guidance":return k.find(C=>C.value===j)?.label||"";case"voice":return S.find(C=>C.value===j)?.label||"";default:return""}};return r.jsxs("div",{className:"font-sans min-h-screen app-background",children:[r.jsxs("header",{className:"bg-gradient-to-r from-[#1E1B4B] to-[#312E81] text-white p-6 border-b border-[rgba(139,92,246,0.3)] relative",children:[e&&r.jsxs(V,{onClick:e,variant:"ghost",size:"sm",className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:bg-white/10 flex items-center gap-2",children:[r.jsx(L,{icon:"mingcute:arrow-left-line",className:"w-5 h-5"}),"Back"]}),r.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:" SIMIS - Medical Device Guidance"}),r.jsx("p",{className:"text-center text-[#E2E8F0] mb-4",children:"Professional medical device scanning and guidance system"}),t&&r.jsxs("div",{className:"max-w-4xl mx-auto bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3 text-center",children:"Current Session Configuration"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"text-center cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-colors",onClick:x,children:[r.jsx("div",{className:"text-sm text-[#94A3B8] mb-1",children:"Device"}),r.jsx("div",{className:"text-white font-medium",children:y("device",t.device)})]}),r.jsxs("div",{className:"text-center cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-colors",onClick:x,children:[r.jsx("div",{className:"text-sm text-[#94A3B8] mb-1",children:"Language"}),r.jsx("div",{className:"text-white font-medium",children:y("language",t.language)})]}),r.jsxs("div",{className:"text-center cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-colors",onClick:x,children:[r.jsx("div",{className:"text-sm text-[#94A3B8] mb-1",children:"Guidance"}),r.jsx("div",{className:"text-white font-medium",children:y("guidance",t.guidanceStyle)})]}),r.jsxs("div",{className:"text-center cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-colors",onClick:x,children:[r.jsx("div",{className:"text-sm text-[#94A3B8] mb-1",children:"Voice"}),r.jsx("div",{className:"text-white font-medium",children:y("voice",t.voiceOption)})]})]})]}),s&&r.jsx("div",{className:"flex justify-center mt-4",children:r.jsxs(V,{onClick:s,variant:"outline",className:"bg-white/10 backdrop-blur-sm border-white/20 hover:border-white/40 text-white",children:[r.jsx(L,{icon:"mingcute:chart-line",className:"w-4 h-4 mr-2"}),"View Session Summary"]})}),r.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-colors",onClick:x,children:[r.jsx("span",{className:"text-[#94A3B8]",children:"Language:"}),r.jsx("span",{className:"font-medium text-[#A78BFA]",children:i==="en"?"English":i==="id"?"Bahasa Indonesia":i==="th"?"":i==="vi"?"Ting Vit":i==="fil"?"Filipino":"English"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-[#94A3B8]",children:"MediaPipe:"}),r.jsx("span",{className:`font-medium ${d?"text-[#10B981]":"text-[#94A3B8]"}`,children:d?"Active":"Inactive"})]})]})]}),r.jsxs("main",{className:"max-w-md mx-auto min-h-screen relative pb-24 bottom-nav-safe-area",children:[n==="scan"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mx-4 min-h-[600px]",children:[r.jsx("div",{className:"lg:col-span-2",children:d?r.jsx("div",{className:"camera-view-container h-full min-h-[600px]",children:r.jsx(Ko,{onThermometerDetected:w=>{m(w),console.log("Thermometer detected:",w)},sessionConfig:t,language:i,sessionId:c||void 0})}):r.jsx("div",{className:"camera-view-container h-full min-h-[600px]",children:r.jsx(Nu,{language:i,sessionId:c||void 0})})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-4 h-full min-h-[600px]",children:[r.jsx(ui,{language:i,sessionId:c||"default"}),r.jsx("div",{className:"mt-4",children:r.jsx(hi,{sessionId:c||"default",language:i})})]})})]})}),n==="devices"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 rounded-b-2xl shadow-lg border border-[rgba(139,92,246,0.3)]",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:[r.jsx("h2",{className:"text-xl font-bold text-center text-white",children:"Device Library"}),r.jsx("p",{className:"text-[#E2E8F0] text-center text-sm mt-1",children:"Select a device to start a new scanning session"})]}),r.jsx(Qf,{onDeviceSelect:w=>{l(w),o("scan")}})]}),n==="history"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 rounded-b-2xl shadow-lg border border-[rgba(139,92,246,0.3)]",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:[r.jsx("h2",{className:"text-xl font-bold text-center text-white",children:"Scan History"}),r.jsx("p",{className:"text-[#E2E8F0] text-center text-sm mt-1",children:"View your previous scanning sessions and guidance"})]}),r.jsx("div",{className:"p-6 text-center",children:r.jsxs("div",{className:"rounded-2xl p-8 border-2 border-dashed border-[rgba(139,92,246,0.3)]",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:[r.jsx("div",{className:"text-[#A78BFA] mb-4",children:r.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No History Yet"}),r.jsx("p",{className:"text-[#E2E8F0]",children:"Your guidance history will appear here after you complete your first scan."})]})})]}),n==="settings"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 rounded-b-2xl shadow-lg border border-[rgba(139,92,246,0.3)]",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:[r.jsx("h2",{className:"text-xl font-bold text-center text-white",children:"Settings"}),r.jsx("p",{className:"text-[#E2E8F0] text-center text-sm mt-1",children:"Customize your app preferences and configuration"})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[t&&r.jsxs("div",{className:"rounded-xl p-4 border border-[rgba(139,92,246,0.3)] shadow-lg",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Session Configuration"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-[#94A3B8] text-sm",children:"Device:"}),r.jsx("p",{className:"text-white font-medium",children:y("device",t.device)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-[#94A3B8] text-sm",children:"Language:"}),r.jsx("p",{className:"text-white font-medium",children:y("language",t.language)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-[#94A3B8] text-sm",children:"Guidance Style:"}),r.jsx("p",{className:"text-white font-medium",children:y("guidance",t.guidanceStyle)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-[#94A3B8] text-sm",children:"Voice Option:"}),r.jsx("p",{className:"text-white font-medium",children:y("voice",t.voiceOption)})]})]})]}),r.jsxs("div",{className:"rounded-xl p-4 border border-[rgba(139,92,246,0.3)] shadow-lg",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:[r.jsx("h3",{className:"font-semibold text-white mb-2",children:"Camera Settings"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-[#E2E8F0]",children:"Use MediaPipe"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:d,onChange:w=>f(w.target.checked),className:"w-4 h-4 text-[#8B5CF6] bg-[#1E1B4B] border-[rgba(139,92,246,0.3)] rounded focus:ring-[#8B5CF6] focus:ring-2"}),r.jsx("span",{className:"text-sm text-[#A78BFA]",children:d?"Enabled":"Disabled"})]})]})]}),r.jsxs("div",{className:"rounded-xl p-4 border border-[rgba(139,92,246,0.3)] shadow-lg",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:[r.jsx("h3",{className:"font-semibold text-white mb-2",children:"Language Settings"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-[#E2E8F0]",children:"Current Language"}),r.jsx("span",{className:"text-sm font-medium text-[#A78BFA]",children:i==="en"?"English":i==="id"?"Bahasa Indonesia":i==="th"?"":i==="vi"?"Ting Vit":i==="fil"?"Filipino":"English"})]})]}),r.jsxs("div",{className:"rounded-xl p-4 border border-[rgba(139,92,246,0.3)] shadow-lg",style:{backgroundColor:"rgba(139, 92, 246, 0.1)",backdropFilter:"blur(10px)"},children:[r.jsx("h3",{className:"font-semibold text-white mb-2",children:"Session Info"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-[#E2E8F0]",children:"Active Session"}),r.jsx("span",{className:"text-sm font-medium text-[#A78BFA]",children:c?"Active":"None"})]}),c&&r.jsxs("div",{className:"text-xs text-[#A78BFA] p-2 rounded border border-[rgba(139,92,246,0.3)]",style:{backgroundColor:"rgba(30, 27, 75, 0.8)"},children:["Session ID: ",c]})]})]})]})]})]}),r.jsx(eh,{currentTab:n,onTabChange:o}),g&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-background border border-border rounded-2xl p-8 max-w-md w-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(L,{icon:"mingcute:settings-3-line",className:"w-8 h-8 text-primary"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Change Settings?"}),r.jsx("p",{className:"text-white/70 mb-6",children:"Do you want to change your session configuration? This will end your current session and take you back to the setup page."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx(V,{onClick:v,variant:"outline",className:"bg-transparent text-white border-border hover:border-white/60",children:"Cancel"}),r.jsxs(V,{onClick:p,className:"bg-primary hover:bg-primary/90 text-white",children:[r.jsx(L,{icon:"mingcute:refresh-line",className:"w-4 h-4 mr-2"}),"Change Settings"]})]})]})})})]})}var Ht="rovingFocusGroup.onEntryFocus",th={bubbles:!1,cancelable:!0},It="RovingFocusGroup",[ps,mi,sh]=Ns(It),[nh,pi]=pe(It,[sh]),[rh,oh]=nh(It),gi=u.forwardRef((e,t)=>r.jsx(ps.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(ps.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(ih,{...e,ref:t})})}));gi.displayName=It;var ih=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=u.useRef(null),g=J(t,m),b=Us(i),[x=null,p]=vt({prop:a,defaultProp:c,onChange:l}),[v,y]=u.useState(!1),w=ie(d),j=mi(s),N=u.useRef(!1),[E,k]=u.useState(0);return u.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Ht,w),()=>S.removeEventListener(Ht,w)},[w]),r.jsx(rh,{scope:s,orientation:n,dir:b,loop:o,currentTabStopId:x,onItemFocus:u.useCallback(S=>p(S),[p]),onItemShiftTab:u.useCallback(()=>y(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:u.useCallback(()=>k(S=>S-1),[]),children:r.jsx(H.div,{tabIndex:v||E===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{N.current=!0}),onFocus:U(e.onFocus,S=>{const C=!N.current;if(S.target===S.currentTarget&&C&&!v){const O=new CustomEvent(Ht,th);if(S.currentTarget.dispatchEvent(O),!O.defaultPrevented){const T=j().filter(I=>I.focusable),P=T.find(I=>I.active),M=T.find(I=>I.id===x),D=[P,M,...T].filter(Boolean).map(I=>I.ref.current);vi(D,f)}}N.current=!1}),onBlur:U(e.onBlur,()=>y(!1))})})}),xi="RovingFocusGroupItem",bi=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:o=!1,tabStopId:i,...a}=e,c=ql(),l=i||c,d=oh(xi,s),f=d.currentTabStopId===l,h=mi(s),{onFocusableItemAdd:m,onFocusableItemRemove:g}=d;return u.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),r.jsx(ps.ItemSlot,{scope:s,id:l,focusable:n,active:o,children:r.jsx(H.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:U(e.onMouseDown,b=>{n?d.onItemFocus(l):b.preventDefault()}),onFocus:U(e.onFocus,()=>d.onItemFocus(l)),onKeyDown:U(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=lh(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const y=v.indexOf(b.currentTarget);v=d.loop?dh(v,y+1):v.slice(y+1)}setTimeout(()=>vi(v))}})})})});bi.displayName=xi;var ah={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ch(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lh(e,t,s){const n=ch(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ah[n]}function vi(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function dh(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var uh=gi,fh=bi,Ws="Radio",[hh,yi]=pe(Ws),[mh,ph]=hh(Ws),wi=u.forwardRef((e,t)=>{const{__scopeRadio:s,name:n,checked:o=!1,required:i,disabled:a,value:c="on",onCheck:l,form:d,...f}=e,[h,m]=u.useState(null),g=J(t,p=>m(p)),b=u.useRef(!1),x=h?d||!!h.closest("form"):!0;return r.jsxs(mh,{scope:s,checked:o,disabled:a,children:[r.jsx(H.button,{type:"button",role:"radio","aria-checked":o,"data-state":Si(o),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:g,onClick:U(e.onClick,p=>{o||l?.(),x&&(b.current=p.isPropagationStopped(),b.current||p.stopPropagation())})}),x&&r.jsx(gh,{control:h,bubbles:!b.current,name:n,value:c,checked:o,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});wi.displayName=Ws;var ji="RadioIndicator",Ni=u.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:n,...o}=e,i=ph(ji,s);return r.jsx(bt,{present:n||i.checked,children:r.jsx(H.span,{"data-state":Si(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})})});Ni.displayName=ji;var gh=e=>{const{control:t,checked:s,bubbles:n=!0,...o}=e,i=u.useRef(null),a=Qo(s),c=Fs(t);return u.useEffect(()=>{const l=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==s&&h){const m=new Event("click",{bubbles:n});h.call(l,s),l.dispatchEvent(m)}},[a,s,n]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Si(e){return e?"checked":"unchecked"}var xh=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gs="RadioGroup",[bh,nm]=pe(Gs,[pi,yi]),Ci=pi(),Ei=yi(),[vh,yh]=bh(Gs),ki=u.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:n,defaultValue:o,value:i,required:a=!1,disabled:c=!1,orientation:l,dir:d,loop:f=!0,onValueChange:h,...m}=e,g=Ci(s),b=Us(d),[x,p]=vt({prop:i,defaultProp:o,onChange:h});return r.jsx(vh,{scope:s,name:n,required:a,disabled:c,value:x,onValueChange:p,children:r.jsx(uh,{asChild:!0,...g,orientation:l,dir:b,loop:f,children:r.jsx(H.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":c?"":void 0,dir:b,...m,ref:t})})})});ki.displayName=Gs;var Ri="RadioGroupItem",Pi=u.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:n,...o}=e,i=yh(Ri,s),a=i.disabled||n,c=Ci(s),l=Ei(s),d=u.useRef(null),f=J(t,d),h=i.value===o.value,m=u.useRef(!1);return u.useEffect(()=>{const g=x=>{xh.includes(x.key)&&(m.current=!0)},b=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",b)}},[]),r.jsx(fh,{asChild:!0,...c,focusable:!a,active:h,children:r.jsx(wi,{disabled:a,required:i.required,checked:h,...l,...o,name:i.name,ref:f,onCheck:()=>i.onValueChange(o.value),onKeyDown:U(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:U(o.onFocus,()=>{m.current&&d.current?.click()})})})});Pi.displayName=Ri;var wh="RadioGroupIndicator",Ti=u.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...n}=e,o=Ei(s);return r.jsx(Ni,{...o,...n,ref:t})});Ti.displayName=wh;var Ii=ki,Ai=Pi,jh=Ti;const Nh=u.forwardRef(({className:e,...t},s)=>r.jsx(Ii,{className:Y("grid gap-2",e),...t,ref:s}));Nh.displayName=Ii.displayName;const Sh=u.forwardRef(({className:e,...t},s)=>r.jsx(Ai,{ref:s,className:Y("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(jh,{className:"flex items-center justify-center",children:r.jsx(el,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Sh.displayName=Ai.displayName;var Ch="Label",Oi=u.forwardRef((e,t)=>r.jsx(H.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Oi.displayName=Ch;var Mi=Oi;const Eh=Nt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kh=u.forwardRef(({className:e,...t},s)=>r.jsx(Mi,{ref:s,className:Y(Eh(),e),...t}));kh.displayName=Mi.displayName;const Rh=[{value:"oral-thermometer",label:"Oral Thermometer",icon:"",enabled:!0},{value:"ear-thermometer",label:"Ear Thermometer",icon:"",enabled:!0},{value:"blood-pressure",label:"Blood Pressure Monitor",icon:"",enabled:!0}],Ph={deviceTypes:Rh},Th=[{value:"en",label:" English",flag:""},{value:"id",label:" Bahasa Indonesia",flag:""},{value:"ms",label:" Bahasa Melayu",flag:""},{value:"th",label:" ",flag:""},{value:"vi",label:" Ting Vit",flag:""},{value:"fil",label:" Filipino",flag:""},{value:"my",label:" ",flag:""},{value:"lo",label:" ",flag:""},{value:"km",label:" ",flag:""},{value:"bn",label:" Brunei Malay",flag:""}],Ih=[{value:"direct",label:"Direct instructions",icon:"",description:"Clear, step-by-step commands for immediate action"},{value:"gentle",label:"Gentle suggestions",icon:"",description:"Soft, encouraging guidance with helpful tips"},{value:"detailed",label:"Detailed explanations",icon:"",description:"Comprehensive information with context and reasoning"}],Ah=[{value:"male",label:"Male",icon:""},{value:"female",label:"Female",icon:""},{value:"text",label:"Text only",icon:""}],Wt={languages:Th,guidanceOptions:Ih,voiceOptions:Ah};function Oh({onStartSession:e,onGoToHome:t,initialAdvancedMode:s=!1,onAdvancedModeChange:n}){const[o,i]=u.useState(""),[a,c]=u.useState(!1),[l,d]=u.useState(!1),[f,h]=u.useState(!1),[m,g]=u.useState(null),[b,x]=u.useState(null),[p,v]=u.useState("en"),[y,w]=u.useState("oral-thermometer"),[j,N]=u.useState("direct"),[E,k]=u.useState("female"),[S,C]=u.useState(null),[O,T]=u.useState(null),P=Wt.languages,M=Ph.deviceTypes,R=Wt.guidanceOptions,D=Wt.voiceOptions,I=[{value:"oral-thermometer",label:"Oral Thermometer",icon:"",description:"Check your temperature orally"},{value:"ear-thermometer",label:"Ear Thermometer",icon:"",description:"Check your temperature via ear"},{value:"blood-pressure",label:"Blood Pressure Monitor",icon:"",description:"Monitor your blood pressure"}],_=()=>{const A=navigator.language.split("-")[0];return P.find(B=>B.value===A)?A:"en"},F=()=>{c(!a),localStorage.setItem("simis-advanced-view",(!a).toString())},z=()=>{const A=m?m.type:o,X={language:p||_(),device:A,guidanceStyle:j||"gentle",voiceOption:E||"female"};g(null),e(X)};u.useEffect(()=>{console.log("Welcome component mounted with initialAdvancedMode:",s),s===!0?(console.log("Setting advanced view to true"),c(!0)):(console.log("Setting advanced view to false"),c(!1))},[s]);const Q=A=>{console.log("togglePopover called with:",A),console.log("Current openPopover state:",S),S===A?(console.log("Closing popover:",A),C(null)):(console.log("Opening popover:",A),C(A))},q=(A,X)=>{switch(A){case"language":return P.find(B=>B.value===X)?.label.replace(/^[^\s]+ /,"")||"";case"device":return M.find(B=>B.value===X)?.label||"";case"guidance":return R.find(B=>B.value===X)?.label||"";case"voice":return D.find(B=>B.value===X)?.label||"";default:return""}},ee=()=>{e({language:p,device:y,guidanceStyle:j,voiceOption:E})};if(u.useEffect(()=>{const A=X=>{const B=X.target;if(console.log("Click outside detected, target:",B),console.log("Current openPopover before click outside:",S),S){if(B.closest?.("[data-option-box]")){console.log("Click is on option box, not closing popover");return}const ge=document.querySelector(`[data-popover="${S}"]`);ge&&!ge.contains(B)&&(console.log("Closing popover due to click outside"),C(null))}};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[S]),u.useEffect(()=>{n&&n(a)},[a,n]),l){const A=m?{label:m.label}:I.find(B=>B.value===o),X=()=>m?m.brand&&m.model?`${m.brand} ${m.model}`:m.brand?`${m.brand} ${m.label}`:m.label:A?.label||"device";return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"w-full max-w-lg bg-primary/10 border border-primary/30 rounded-2xl p-6 mx-auto shadow-2xl backdrop-blur-md relative z-10",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold text-white mb-2",children:["Ready to guide you through using your ",r.jsx("span",{className:"text-primary",children:X()})]}),r.jsx("p",{className:"text-white/70 text-sm",children:"Customize your settings:"})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-lg p-3 cursor-pointer hover:bg-primary/10 hover:border-primary/40 transition-colors",onClick:()=>C("language"),children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium text-sm",children:"Language"}),r.jsx("p",{className:"text-white/70 text-xs",children:P.find(B=>B.value===p)?.label})]}),r.jsx(L,{icon:"mingcute:edit-line",className:"w-4 h-4 text-white/50 hover:text-white transition-colors"})]}),S==="language"&&r.jsx("div",{className:"absolute z-[10001] mt-2 left-0 w-full bg-background rounded-xl shadow-2xl border border-border overflow-hidden","data-popover":"language",children:r.jsx("div",{className:"relative",children:r.jsx("div",{className:"p-3 max-h-40 overflow-y-auto",children:r.jsx("div",{className:"space-y-0.5",children:P.map(B=>r.jsxs("div",{className:`flex items-center space-x-3 p-1.5 rounded-lg cursor-pointer transition-colors ${B.value===p?"bg-primary/20 text-primary hover:bg-primary/30":"hover:bg-white/10 text-white"}`,onClick:()=>{v(B.value),C(null)},children:[r.jsx("span",{className:"text-lg",children:B.flag}),r.jsx("span",{className:"flex-1 text-sm",children:B.label.replace(/^[^\s]+ /,"")}),B.value===p&&r.jsx(L,{icon:"mingcute:check-line",className:"w-4 h-4 text-primary"})]},B.value))})})})})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-lg p-3 cursor-pointer hover:bg-primary/10 hover:border-primary/40 transition-colors",onClick:()=>C("voice"),children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium text-sm",children:"Voice"}),r.jsx("p",{className:"text-white/70 text-xs",children:D.find(B=>B.value===E)?.label})]}),r.jsx(L,{icon:"mingcute:edit-line",className:"w-4 h-4 text-white/50 hover:text-white transition-colors"})]}),S==="voice"&&r.jsx("div",{className:"absolute z-[10001] mt-2 left-0 w-full bg-background rounded-xl shadow-2xl border border-border overflow-hidden","data-popover":"voice",children:r.jsx("div",{className:"relative",children:r.jsx("div",{className:"p-3 max-h-40 overflow-y-auto",children:r.jsx("div",{className:"space-y-0.5",children:D.map(B=>r.jsxs("div",{className:`flex items-center space-x-3 p-1.5 rounded-lg cursor-pointer transition-colors ${B.value===E?"bg-primary/20 text-primary hover:bg-primary/30":"hover:bg-white/10 text-white"}`,onClick:()=>{k(B.value),C(null)},children:[r.jsx("span",{className:"text-lg",children:B.icon}),r.jsx("span",{className:"flex-1 text-sm",children:B.label}),B.value===E&&r.jsx(L,{icon:"mingcute:check-line",className:"w-4 h-4 text-primary"})]},B.value))})})})})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-lg p-3 cursor-pointer hover:bg-primary/10 hover:border-primary/40 transition-colors",onClick:()=>C("style"),children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium text-sm",children:"Style"}),r.jsx("p",{className:"text-white/70 text-xs",children:R.find(B=>B.value===j)?.label})]}),r.jsx(L,{icon:"mingcute:edit-line",className:"w-4 h-4 text-white/50 hover:text-white transition-colors"})]}),S==="style"&&r.jsx("div",{className:"absolute z-[10001] mt-2 left-0 w-full bg-background rounded-xl shadow-2xl border border-border overflow-hidden","data-popover":"style",children:r.jsx("div",{className:"relative",children:r.jsx("div",{className:"p-3 max-h-40 overflow-y-auto",children:r.jsx("div",{className:"space-y-0.5",children:R.map(B=>r.jsxs("div",{className:`flex items-center space-x-3 p-1.5 rounded-lg cursor-pointer transition-colors ${B.value===j?"bg-primary/20 text-primary hover:bg-primary/30":"hover:bg-white/10 text-white"}`,onClick:()=>{N(B.value),C(null)},children:[r.jsx("span",{className:"text-lg",children:B.icon}),r.jsx("span",{className:"flex-1 text-sm",children:B.label}),B.value===j&&r.jsx(L,{icon:"mingcute:check-line",className:"w-4 h-4 text-primary"})]},B.value))})})})})]})]}),r.jsx("p",{className:"text-white/60 text-center text-xs mb-6",children:"Perfect for most people"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(V,{onClick:()=>{d(!1),g(null)},variant:"outline",size:"sm",className:"flex-1 text-xs",children:"Back"}),r.jsx(V,{onClick:()=>{x("smart-defaults"),d(!1),h(!0)},variant:"outline",size:"sm",className:"flex-1 text-xs",children:"How it works"}),r.jsxs(V,{onClick:z,variant:"default",size:"sm",className:"flex-1 text-xs",children:["Start",r.jsx(L,{icon:"mingcute:play-fill",className:"w-4 h-4 ml-1"})]})]})]})})}return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1E1B4B] to-[#312E81] flex flex-col items-center justify-center",children:[r.jsx("div",{className:"flex justify-center pt-16",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("h1",{id:"welcome-title","data-tutorial":"welcome-title",className:"text-5xl font-bold mb-6",children:["Welcome to ",r.jsx("span",{className:"bg-gradient-to-r from-primary to-blue-400 bg-clip-text text-transparent",children:"SIMIS"})]}),r.jsx("p",{className:"text-white/70 text-lg mb-4",children:"Your AI-powered medical device guidance assistant"})]})}),r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs("div",{className:"w-full max-w-6xl border border-border rounded-3xl px-12 py-20 mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"What device do you need help with?"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-6 text-center",children:"Select Your Device"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:I.map(A=>r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm hover:bg-card/70 transition-all duration-300 cursor-pointer device-tile",onClick:()=>{g({type:A.value,label:A.label}),d(!0)},children:r.jsxs(K,{className:"p-8 text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:A.icon}),r.jsx("h4",{className:"text-white font-semibold mb-3 text-lg",children:A.label}),r.jsx("p",{className:"text-white/70 text-sm",children:A.description})]})},A.value))})]}),!a&&r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:F,className:"text-white/60 hover:text-white/80 text-sm underline toggle-link",children:"Need more control? Advanced setup"})}),a&&r.jsxs("div",{className:"mt-16",children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),r.jsx("div",{className:"px-4 py-2 bg-primary/10 border border-primary/30 text-primary text-xs font-semibold rounded-full",children:"EXPERT MODE"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Advanced Setup"}),r.jsxs("button",{onClick:()=>c(!1),className:"flex items-center gap-2 px-4 py-2 text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-lg text-sm font-medium transition-all duration-200 border border-white/20 hover:border-white/40",children:[r.jsx(L,{icon:"mingcute:arrow-left-line",className:"w-4 h-4"}),"Back to Simple"]})]}),r.jsxs("div",{className:"mb-12 relative z-20",children:[r.jsxs("h4",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-4",children:[r.jsx("span",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-bold",children:"1"}),"Select your device"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:I.map(A=>r.jsx(G,{className:`bg-card/50 border-border backdrop-blur-sm transition-all duration-300 cursor-pointer ${y===A.value?"ring-2 ring-primary bg-primary/10":"hover:bg-card/70"}`,onClick:()=>w(A.value),children:r.jsxs(K,{className:"p-6 text-center",children:[r.jsx("div",{className:"text-4xl mb-3",children:A.icon}),r.jsx("h4",{className:"text-white font-semibold mb-2",children:A.label}),r.jsx("p",{className:"text-white/70 text-sm",children:A.description}),y===A.value&&r.jsx("div",{className:"mt-3",children:r.jsx(L,{icon:"mingcute:check-line",className:"w-5 h-5 text-primary mx-auto"})})]})},A.value))})]}),r.jsxs("div",{className:"mb-8 relative z-10",children:[r.jsxs("h4",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-4",children:[r.jsx("span",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-bold",children:"2"}),"Set preferences"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm hover:bg-card/70 transition-all duration-300 relative",children:r.jsxs(K,{className:"px-6 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer","data-option-box":"language",onClick:()=>{console.log("Language option box clicked"),console.log("Current openPopover:",S),Q("language")},children:[r.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(L,{icon:"mingcute:world-2-line",className:"w-7 h-7 text-white/80"})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm font-bold text-white",children:q("language",p)})}),r.jsx("div",{className:"text-white/50",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),S==="language"&&r.jsx("div",{className:"absolute z-[10001] mt-3 left-0 w-80 bg-background rounded-xl shadow-2xl border border-border overflow-hidden","data-popover":"language",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"p-4 max-h-48 overflow-y-auto",children:r.jsx("div",{className:"space-y-0.5",children:P.map(A=>r.jsxs("div",{className:`flex items-center space-x-3 p-1.5 rounded-lg cursor-pointer transition-colors ${A.value===p?"bg-primary/20 text-primary hover:bg-primary/30":"hover:bg-white/10 text-white"}`,onClick:()=>{console.log("Language selected:",A.value),console.log("Current openPopover before selection:",S),v(A.value),C(null),console.log("Popover closed after language selection")},children:[r.jsx("span",{className:"text-lg",children:A.flag}),r.jsx("span",{className:"flex-1",children:A.label.replace(/^[^\s]+ /,"")}),A.value===p&&r.jsx(L,{icon:"mingcute:check-line",className:"w-5 h-5 text-primary"})]},A.value))})}),P.length>3&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-background via-background/80 to-transparent h-8 flex items-end justify-center pb-1 pointer-events-none",children:r.jsx("div",{className:"w-0 h-0 border-l-[6px] border-r-[6px] border-t-[8px] border-transparent border-t-white/30"})})]})})]})}),r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm hover:bg-card/70 transition-all duration-300 relative",children:r.jsxs(K,{className:"px-6 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer","data-option-box":"guidance",onClick:()=>{console.log("Guidance option box clicked"),console.log("Current openPopover:",S),Q("guidance")},children:[r.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(L,{icon:"mingcute:settings-1-line",className:"w-7 h-7 text-white/80"})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm font-bold text-white",children:q("guidance",j)})}),r.jsx("div",{className:"text-white/50",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),S==="guidance"&&r.jsx("div",{className:"absolute z-[10001] mt-3 left-0 w-80 bg-background rounded-xl shadow-2xl border border-border overflow-hidden","data-popover":"guidance",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"p-4 max-h-48 overflow-y-auto",children:r.jsx("div",{className:"space-y-0.5",children:R.map(A=>r.jsxs("div",{className:`flex items-center space-x-3 p-1.5 rounded-lg cursor-pointer transition-colors relative ${A.value===j?"bg-primary/20 text-primary hover:bg-primary/30":"hover:bg-white/10 text-white"}`,onClick:()=>{console.log("Guidance selected:",A.value),console.log("Current openPopover before selection:",S),N(A.value),C(null),console.log("Popover closed after guidance selection")},onMouseEnter:()=>T(A.value),onMouseLeave:()=>T(null),children:[r.jsx("span",{className:"text-lg",children:A.icon}),r.jsx("span",{className:"flex-1",children:A.label}),A.value===j&&r.jsx(L,{icon:"mingcute:check-line",className:"w-5 h-5 text-primary"}),O===A.value&&r.jsx("div",{className:"absolute left-full ml-2 top-1/2 transform -translate-y-1/2 w-64 bg-background border border-border rounded-lg p-3 shadow-lg z-[10002]",children:r.jsx("p",{className:"text-white/80 text-sm",children:A.description})})]},A.value))})}),R.length>3&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-background via-background/80 to-transparent h-8 flex items-end justify-center pb-1 pointer-events-none",children:r.jsx("div",{className:"w-0 h-0 border-l-[6px] border-r-[6px] border-t-[8px] border-transparent border-t-white/30"})})]})})]})}),r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm hover:bg-card/70 transition-all duration-300 relative",children:r.jsxs(K,{className:"px-6 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer","data-option-box":"voice",onClick:()=>{console.log("Voice option box clicked"),console.log("Current openPopover:",S),Q("voice")},children:[r.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(L,{icon:"mingcute:mic-ai-line",className:"w-7 h-7 text-white/80"})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm font-bold text-white",children:q("voice",E)})}),r.jsx("div",{className:"text-white/50",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),S==="voice"&&r.jsx("div",{className:"absolute z-[10001] mt-3 left-0 w-80 bg-background rounded-xl shadow-2xl border border-border overflow-hidden",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"p-4 max-h-48 overflow-y-auto",children:r.jsx("div",{className:"space-y-0.5",children:D.map(A=>r.jsxs("div",{className:`flex items-center space-x-3 p-1.5 rounded-lg cursor-pointer transition-colors ${A.value===E?"bg-primary/20 text-primary hover:bg-primary/30":"hover:bg-white/10 text-white"}`,onClick:()=>{console.log("Voice selected:",A.value),console.log("Current openPopover before selection:",S),k(A.value),C(null),console.log("Popover closed after voice selection")},children:[r.jsx("span",{className:"text-lg",children:A.icon}),r.jsx("span",{className:"flex-1",children:A.label}),A.value===E&&r.jsx(L,{icon:"mingcute:check-line",className:"w-5 h-5 text-primary"})]},A.value))})}),D.length>3&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-background via-background/80 to-transparent h-8 flex items-end justify-center pb-1 pointer-events-none",children:r.jsx("div",{className:"w-0 h-0 border-l-[6px] border-r-[6px] border-t-[8px] border-transparent border-t-white/30"})})]})})]})})]})]}),r.jsx("div",{className:"text-center space-y-4",children:r.jsxs("div",{className:"flex justify-center space-x-8",children:[r.jsx(V,{onClick:()=>{x("welcome"),h(!0)},variant:"outline",size:"lg",className:"font-semibold text-base hover:bg-white/10 hover:border-white/50",children:"How it works"}),r.jsxs(V,{onClick:ee,disabled:!1,variant:"default",size:"lg",className:"font-semibold text-base disabled:opacity-20 disabled:cursor-not-allowed hover:bg-primary/90",children:["Start",r.jsx(L,{icon:"mingcute:play-fill",className:"w-8 h-8 ml-1"})]})]})})]}),f&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] p-4",children:r.jsxs("div",{className:"bg-background border border-border rounded-2xl p-8 max-w-2xl w-full",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-4",children:"How SIMIS Works"}),r.jsx("p",{className:"text-white/70 text-center max-w-xl mx-auto mb-8",children:"SIMIS uses real-time camera detection to identify your medical device and provides step-by-step guidance in your preferred language with voice assistance."}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsxs(V,{onClick:()=>window.open("/how-it-works","_blank"),variant:"outline",children:["Learn more",r.jsx(L,{icon:"mingcute:external-link-line",className:"w-4 h-4 ml-2"})]}),r.jsx(V,{onClick:()=>{h(!1),b==="smart-defaults"&&d(!0),x(null)},variant:"default",children:"Got it"})]})]})})]})})]})}function Mh({config:e,onBack:t}){const[s,n]=u.useState(1),[o,i]=u.useState(25),[a,c]=u.useState(""),[l,d]=u.useState([]),[f,h]=u.useState(!0),[m,g]=u.useState([]),[b,x]=u.useState(null),[p,v]=u.useState(0),[y,w]=u.useState(!0),[j,N]=u.useState(!1);u.useEffect(()=>{(async()=>{try{w(!0);const P=(()=>{switch(e.device){case"oral-thermometer":case"thermometer":return"digital_oral_thermometer";case"blood-pressure":case"blood_pressure":return"blood_pressure_monitor";case"ear-thermometer":return"digital_oral_thermometer";default:return"digital_oral_thermometer"}})(),M=[];for(let R=1;R<=5;R++)try{const D=await fetch(`https://2e7j2vait1.execute-api.us-east-1.amazonaws.com/prod/guidance/${P}/${R}?language=${e.language}&style=${e.guidanceStyle}`);if(D.ok){const I=await D.json();M.push({id:`${P}-${R}`,deviceId:P,stepNumber:R,title:I.title||`Step ${R}`,description:I.instructions||I.description||I.content||"",translations:null,audioUrl:null,imageUrl:null,checkpoints:I.checkpoints||null})}}catch(D){console.warn(`Failed to fetch step ${R}:`,D)}M.length>0?(g(M),v(M.length),x(M[0])):(console.error("No instructions fetched from AWS guidance API"),g([]),v(0))}catch(P){console.error("Failed to fetch instructions:",P);const M=[{id:"1",deviceId:"thermometer",stepNumber:1,title:"Prepare the thermometer",description:"Remove the thermometer from its case and ensure it's clean and dry.",translations:null,audioUrl:null,imageUrl:null,checkpoints:["Thermometer is clean","Thermometer is dry"]},{id:"2",deviceId:"thermometer",stepNumber:2,title:"Turn on the thermometer",description:'Press the power button to turn on the thermometer. Wait for the display to show "Lo" or a similar ready indicator.',translations:null,audioUrl:null,imageUrl:null,checkpoints:["Thermometer is turned on","Display shows ready indicator"]},{id:"3",deviceId:"thermometer",stepNumber:3,title:"Position correctly",description:"Place the thermometer tip under your tongue, close your mouth gently, and hold it in place.",translations:null,audioUrl:null,imageUrl:null,checkpoints:["Tip is under tongue","Mouth is closed","Holding still"]},{id:"4",deviceId:"thermometer",stepNumber:4,title:"Wait for measurement",description:"Keep the thermometer in place until you hear a beep or see the temperature reading on the display.",translations:null,audioUrl:null,imageUrl:null,checkpoints:["Waiting for beep","Temperature reading appears"]},{id:"5",deviceId:"thermometer",stepNumber:5,title:"Read and record",description:"Read the temperature from the display and record it. Clean the thermometer before storing.",translations:null,audioUrl:null,imageUrl:null,checkpoints:["Temperature is read","Thermometer is cleaned","Stored properly"]}];g(M),v(M.length),M.length>0&&x(M[0])}finally{w(!1)}})()},[]),u.useEffect(()=>{if(m.length>0){const T=m.find(P=>P.stepNumber===s);T&&(x(T),i(s/p*100))}},[s,m,p]);const k=(T=>{if(!b)return null;const P=e.language||"en",M=b.translations?.[P];return{title:M?.title||b.title,description:M?.description||b.description,checkpoints:b.checkpoints||[]}})(),S=()=>{s<p&&n(s+1)},C=()=>{s>1&&n(s-1)},O=()=>{h(!f)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1E1B4B] to-[#312E81] text-white",children:[r.jsx("header",{className:"bg-transparent text-white p-6 relative",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm cursor-pointer hover:bg-white/10 transition-colors",onClick:t,children:r.jsx(K,{className:"px-6 py-2",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(L,{icon:"mingcute:arrow-to-left-fill",className:"w-7 h-7 text-white/70"})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm text-white",children:"Back"})})]})})}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm cursor-pointer hover:bg-card/60 transition-colors",onClick:()=>N(!0),children:r.jsx(K,{className:"px-6 py-2",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(L,{icon:"mingcute:cellphone-vibration-line",className:"w-7 h-7 text-white/70"})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm text-white",children:e.device==="thermometer"?"Digital thermometer":e.device==="ear"?"Ear thermometer":e.device==="forehead"?"Forehead thermometer":e.device==="blood-pressure"?"Blood pressure monitor":e.device==="glucose"?"Blood glucose meter":e.device})})]})})}),r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm cursor-pointer hover:bg-card/60 transition-colors",onClick:()=>N(!0),children:r.jsx(K,{className:"px-6 py-2",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(L,{icon:"mingcute:world-2-line",className:"w-7 h-7 text-white/80"})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm text-white",children:e.language==="en"?"English":e.language==="id"?"Bahasa Indonesia":e.language==="ms"?"Bahasa Melayu":e.language==="th"?"":e.language==="vi"?"Ting Vit":e.language==="fil"?"Filipino":e.language==="my"?"":e.language==="lo"?"":e.language==="km"?"":e.language==="bn"?"Bahasa Melayu (Brunei)":"English"})})]})})}),r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm cursor-pointer hover:bg-card/60 transition-colors",onClick:()=>N(!0),children:r.jsx(K,{className:"px-6 py-2",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(L,{icon:"mingcute:settings-1-line",className:"w-7 h-7 text-white/80"})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm text-white",children:e.guidanceStyle==="direct"?"Direct instructions":e.guidanceStyle==="gentle"?"Gentle suggestions":e.guidanceStyle==="detailed"?"Detailed explanations":e.guidanceStyle})})]})})}),r.jsx(G,{className:"bg-card/50 border-border backdrop-blur-sm cursor-pointer hover:bg-card/60 transition-colors",onClick:()=>N(!0),children:r.jsx(K,{className:"px-6 py-2",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(L,{icon:"mingcute:mic-ai-line",className:"w-7 h-7 text-white/80"})}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm text-white",children:e.voiceOption==="male"?"Male":e.voiceOption==="female"?"Female":e.voiceOption==="text"?"Text only":e.voiceOption})})]})})})]})]})}),r.jsx("main",{className:"max-w-8xl mx-auto px-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[600px]",children:[r.jsx("div",{className:"lg:col-span-2","data-tutorial":"camera-view",children:r.jsx("div",{className:"h-full min-h-[600px] rounded-xl overflow-hidden",children:r.jsx(Ko,{onThermometerDetected:T=>{console.log("Device detected:",T)},sessionConfig:e,language:e.language,sessionId:"guidance-session"})})}),r.jsx("div",{className:"lg:col-span-1","data-tutorial":"instructions-panel",children:f?r.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-4 h-full min-h-[600px] flex flex-col",children:[r.jsx("div",{className:"flex-1",children:y?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading instructions..."})]})}):k?r.jsx(ui,{language:e.language,sessionId:"guidance-session",currentStep:s,totalSteps:p,title:k.title,description:k.description,checkpoints:k.checkpoints,onNextStep:S,onPreviousStep:C,canGoNext:s<p,canGoPrevious:s>1}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Instructions"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"No instructions available"})]})})}),r.jsx("div",{className:"mt-4 flex-shrink-0","data-tutorial":"chat-toggle",children:r.jsxs(V,{onClick:O,className:"w-full bg-primary text-white hover:bg-primary/90 transition-colors text-sm font-semibold py-4",children:[r.jsx(L,{icon:"mingcute:message-3-fill",className:"w-4 h-4 mr-2"}),"Chat with SIMIS"]})})]}):r.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-4 h-full min-h-[600px] flex flex-col",children:[r.jsx("div",{className:"mb-4 flex-shrink-0","data-tutorial":"instructions-toggle",children:r.jsxs(V,{onClick:O,className:"w-full bg-primary text-white hover:bg-primary/90 transition-colors text-sm font-semibold py-4",children:[r.jsx(L,{icon:"mingcute:list-expansion-fill",className:"w-4 h-4 mr-2"}),"View Instructions"]})}),r.jsx("div",{className:"flex flex-col h-full min-h-0",children:r.jsx(hi,{sessionId:"guidance-session",language:e.language,showToggleButton:!1,sessionConfig:e})})]})})]})}),j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-card border border-border rounded-2xl p-8 max-w-md mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(L,{icon:"mingcute:warning-line",className:"w-8 h-8 text-orange-500"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Change Settings?"}),r.jsx("p",{className:"text-white/70 mb-6",children:"To change your settings, you'll need to end this session and start over. Your current progress will be saved."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(V,{onClick:()=>t(),variant:"outline",className:"flex-1",children:"Change settings"}),r.jsx(V,{onClick:()=>N(!1),variant:"default",className:"flex-1",children:"Continue without changing"})]})]})})})]})}function Dh(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(G,{className:"w-full max-w-md mx-4",children:r.jsxs(K,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(Jc,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Fh=[{id:"welcome",target:"welcome-title",title:"Welcome to SIMIS!",description:"Let me show you around the app. This is your AI-powered medical device guidance assistant.",position:"bottom",action:"Click anywhere to continue"},{id:"device-selection",target:"device-selection-card",title:"Select Your Device",description:"Choose from our 3 supported devices: Oral Thermometer, Ear Thermometer, or Blood Pressure Monitor.",position:"bottom",action:"Click on your device type"},{id:"advanced-toggle",target:"advanced-toggle",title:"Advanced Setup",description:"Need more control? Click here to access advanced settings for language, guidance style, and voice options.",position:"top",action:"Try the advanced setup"},{id:"start-button",target:"start-button",title:"Ready to Start!",description:"Once you've selected your device, click here to begin your guided experience.",position:"top",action:"Start your session"}],Lh=[{id:"camera-view",target:"camera-view",title:"Camera View",description:"This is your camera view where SIMIS will detect and guide you through using your medical device.",position:"right",action:"Position your device in view"},{id:"instructions-panel",target:"instructions-panel",title:"Instructions Panel",description:"Here you'll see step-by-step instructions for your device. Follow along as SIMIS guides you.",position:"left",action:"Read the instructions carefully"},{id:"chat-toggle",target:"chat-toggle",title:"Chat with SIMIS",description:"Click here to switch to chat mode where you can ask questions or get help from SIMIS.",position:"left",action:"Try chatting with SIMIS"}];function _h({isVisible:e,onComplete:t,onSkip:s}){const[n,o]=u.useState(0),[i,a]=u.useState(!1),[c,l]=u.useState(null),[d,f]=u.useState({top:0,left:0}),m=document.querySelector('[data-tutorial="camera-view"]')!==null?Lh:Fh,g=m[n];u.useEffect(()=>{if(!e||!g)return;const y=document.querySelector(`[data-tutorial="${g.target}"]`);if(y)l(y),b(y);else{const w=setTimeout(()=>{const j=document.querySelector(`[data-tutorial="${g.target}"]`);if(j)l(j),b(j);else{const N=window.innerWidth,E=window.innerHeight,k=window.pageYOffset||document.documentElement.scrollTop;l(null),f({top:E/2+k,left:N/2})}},100);return()=>clearTimeout(w)}},[e,n,g]),u.useEffect(()=>{if(!c)return;const y=()=>b(c);return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);const b=y=>{const w=y.getBoundingClientRect(),j=window.pageYOffset||document.documentElement.scrollTop,N=window.pageXOffset||document.documentElement.scrollLeft,E=window.innerWidth,k=window.innerHeight;let S=w.top+j,C=w.left+N;const O=320,T=200,P=20;switch(g?.position){case"top":S=w.top+j-T-P,C=w.left+N+w.width/2;break;case"bottom":S=w.bottom+j+P,C=w.left+N+w.width/2;break;case"left":S=w.top+j+w.height/2-T/2,C=w.left+N-P;break;case"right":S=w.top+j+w.height/2-T/2,C=w.right+N+P;break}C<0?C=10:C+O>E&&(C=E-O-10),S<j?S=j+10:S+T>k+j&&(S=k+j-T-10),f({top:S,left:C})},x=()=>{n<m.length-1?o(n+1):t()},p=()=>{n>0&&o(n-1)},v=()=>{s()};return!e||!g?null:r.jsxs(r.Fragment,{children:[c?r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",style:{background:`radial-gradient(ellipse at ${c.getBoundingClientRect().left+window.pageXOffset+c.getBoundingClientRect().width/2}px ${c.getBoundingClientRect().top+window.pageYOffset+c.getBoundingClientRect().height/2}px, transparent 0%, transparent 40%, rgba(0, 0, 0, 0.5) 70%)`}}):r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40"}),c&&r.jsx("div",{className:"fixed z-50 pointer-events-none border-2 border-primary rounded-lg",style:{top:c.getBoundingClientRect().top+window.pageYOffset-4,left:c.getBoundingClientRect().left+window.pageXOffset-4,width:c.getBoundingClientRect().width+8,height:c.getBoundingClientRect().height+8}}),r.jsx("div",{className:"fixed z-50 max-w-sm",style:{top:d.top,left:d.left,transform:c?g.position==="top"||g.position==="bottom"?"translateX(-50%)":g.position==="right"?"translateY(-50%)":"translateY(-50%) translateX(-100%)":"translate(-50%, -50%)"},children:r.jsx(G,{className:"bg-background border-2 border-primary shadow-2xl",children:r.jsxs(K,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"w-8 h-8 relative",children:[r.jsxs("svg",{className:"w-8 h-8 transform -rotate-90",viewBox:"0 0 32 32",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",stroke:"currentColor",strokeWidth:"3",fill:"none",className:"text-primary/20"}),r.jsx("circle",{cx:"16",cy:"16",r:"14",stroke:"currentColor",strokeWidth:"3",fill:"none",strokeDasharray:`${2*Math.PI*14}`,strokeDashoffset:`${2*Math.PI*14*(1-(n+1)/m.length)}`,className:"text-primary",strokeLinecap:"round"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-bold text-primary",children:n+1})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:g.title}),r.jsxs("p",{className:"text-white/60 text-xs",children:["Step ",n+1," of ",m.length]})]})]}),r.jsx(V,{onClick:v,variant:"ghost",size:"sm",className:"text-white/60 hover:text-white hover:bg-white/10",children:r.jsx(L,{icon:"mingcute:close-line",className:"w-4 h-4"})})]}),r.jsx("p",{className:"text-white/80 text-sm mb-4",children:g.description}),g.action&&r.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-3 mb-4",children:r.jsxs("p",{className:"text-primary text-sm font-medium",children:[" ",g.action]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(V,{onClick:p,disabled:n===0,variant:"outline",size:"sm",className:"bg-transparent text-white border-white/20 hover:border-white/40",children:[r.jsx(L,{icon:"mingcute:arrow-left-line",className:"w-4 h-4 mr-1"}),"Previous"]}),r.jsxs(V,{onClick:x,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[n===m.length-1?"Finish":"Next",r.jsx(L,{icon:"mingcute:arrow-right-line",className:"w-4 h-4 ml-1"})]})]}),r.jsx("div",{className:"flex space-x-1",children:m.map((y,w)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${w===n?"bg-primary":"bg-white/30"}`},w))})]})]})})})]})}const Bh=Nt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $h({className:e,variant:t,...s}){return r.jsx("div",{className:Y(Bh({variant:t}),e),...s})}var Ks="Progress",qs=100,[zh,rm]=pe(Ks),[Vh,Uh]=zh(Ks),Di=u.forwardRef((e,t)=>{const{__scopeProgress:s,value:n=null,max:o,getValueLabel:i=Hh,...a}=e;(o||o===0)&&!qn(o)&&console.error(Wh(`${o}`,"Progress"));const c=qn(o)?o:qs;n!==null&&!Qn(n,c)&&console.error(Gh(`${n}`,"Progress"));const l=Qn(n,c)?n:null,d=pt(l)?i(l,c):void 0;return r.jsx(Vh,{scope:s,value:l,max:c,children:r.jsx(H.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":pt(l)?l:void 0,"aria-valuetext":d,role:"progressbar","data-state":_i(l,c),"data-value":l??void 0,"data-max":c,...a,ref:t})})});Di.displayName=Ks;var Fi="ProgressIndicator",Li=u.forwardRef((e,t)=>{const{__scopeProgress:s,...n}=e,o=Uh(Fi,s);return r.jsx(H.div,{"data-state":_i(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});Li.displayName=Fi;function Hh(e,t){return`${Math.round(e/t*100)}%`}function _i(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function pt(e){return typeof e=="number"}function qn(e){return pt(e)&&!isNaN(e)&&e>0}function Qn(e,t){return pt(e)&&!isNaN(e)&&e<=t&&e>=0}function Wh(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qs}\`.`}function Gh(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qs} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Bi=Di,Kh=Li;const $i=u.forwardRef(({className:e,value:t,...s},n)=>r.jsx(Bi,{ref:n,className:Y("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(Kh,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));$i.displayName=Bi.displayName;function qh({sessionData:e,onClose:t,onExport:s,onShare:n}){const[o,i]=u.useState(!1),a=async()=>{i(!0);try{const d=`
SIMIS Session Summary
=======================

Device Information:
- Type: ${e.deviceType}
- Device: ${e.device}
- Brand: ${e.deviceBrand}
- Model: ${e.deviceModel}

Session Details:
- Language: ${e.language}
- Guidance Style: ${e.guidanceStyle}
- Duration: ${Math.round(e.timeSpent/60)} minutes
- Steps Completed: ${e.completedSteps}/${e.totalSteps}
- Success Rate: ${e.successRate}%

Key Learnings:
${e.keyLearnings.map(g=>` ${g}`).join(`
`)}

Areas for Improvement:
${e.areasForImprovement.map(g=>` ${g}`).join(`
`)}

Common Issues Encountered:
${e.commonIssues.map(g=>` ${g}`).join(`
`)}

Generated on: ${new Date().toLocaleDateString()}
      `,f=new Blob([d],{type:"text/plain"}),h=URL.createObjectURL(f),m=document.createElement("a");m.href=h,m.download=`simis-ai-session-${Date.now()}.txt`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)}catch(d){console.error("Export failed:",d)}finally{i(!1)}},c=d=>d>=80?"text-green-400":d>=60?"text-yellow-400":"text-red-400",l=d=>d>=80?"default":d>=60?"secondary":"destructive";return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-background border border-border rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white",children:"Session Summary"}),r.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Review your learning progress and key insights"})]}),r.jsx(V,{onClick:t,variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:r.jsx(L,{icon:"mingcute:close-line",className:"w-6 h-6"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(G,{className:"bg-card/50 border-border",children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:r.jsx(L,{icon:"mingcute:device-line",className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white/70 text-xs",children:"Device"}),r.jsxs("p",{className:"text-white font-semibold text-sm",children:[e.deviceBrand," ",e.deviceModel]})]})]})})}),r.jsx(G,{className:"bg-card/50 border-border",children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center",children:r.jsx(L,{icon:"mingcute:check-circle-line",className:"w-6 h-6 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white/70 text-xs",children:"Progress"}),r.jsxs("p",{className:"text-white font-semibold text-sm",children:[e.completedSteps,"/",e.totalSteps," steps"]})]})]})})}),r.jsx(G,{className:"bg-card/50 border-border",children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:r.jsx(L,{icon:"mingcute:time-line",className:"w-6 h-6 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white/70 text-xs",children:"Duration"}),r.jsxs("p",{className:"text-white font-semibold text-sm",children:[Math.round(e.timeSpent/60)," min"]})]})]})})}),r.jsx(G,{className:"bg-card/50 border-border",children:r.jsx(K,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-full flex items-center justify-center",children:r.jsx(L,{icon:"mingcute:target-line",className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white/70 text-xs",children:"Success Rate"}),r.jsxs("p",{className:`font-semibold text-sm ${c(e.successRate)}`,children:[e.successRate,"%"]})]})]})})})]}),r.jsx(G,{className:"bg-card/50 border-border mb-6",children:r.jsxs(K,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Overall Progress"}),r.jsxs($h,{variant:l(e.successRate),children:[e.successRate,"% Complete"]})]}),r.jsx($i,{value:e.successRate,className:"h-3"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs(G,{className:"bg-card/50 border-border",children:[r.jsx(Ve,{children:r.jsxs(ot,{className:"text-white flex items-center space-x-2",children:[r.jsx(L,{icon:"mingcute:lightbulb-line",className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{children:"Key Learnings"})]})}),r.jsx(K,{children:r.jsx("ul",{className:"space-y-2",children:e.keyLearnings.map((d,f)=>r.jsxs("li",{className:"flex items-start space-x-2",children:[r.jsx(L,{icon:"mingcute:check-line",className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-white/80 text-sm",children:d})]},f))})})]}),r.jsxs(G,{className:"bg-card/50 border-border",children:[r.jsx(Ve,{children:r.jsxs(ot,{className:"text-white flex items-center space-x-2",children:[r.jsx(L,{icon:"mingcute:target-line",className:"w-5 h-5 text-orange-400"}),r.jsx("span",{children:"Areas for Improvement"})]})}),r.jsx(K,{children:r.jsx("ul",{className:"space-y-2",children:e.areasForImprovement.map((d,f)=>r.jsxs("li",{className:"flex items-start space-x-2",children:[r.jsx(L,{icon:"mingcute:arrow-up-line",className:"w-4 h-4 text-orange-400 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-white/80 text-sm",children:d})]},f))})})]})]}),e.commonIssues.length>0&&r.jsxs(G,{className:"bg-card/50 border-border mb-6",children:[r.jsx(Ve,{children:r.jsxs(ot,{className:"text-white flex items-center space-x-2",children:[r.jsx(L,{icon:"mingcute:warning-line",className:"w-5 h-5 text-red-400"}),r.jsx("span",{children:"Common Issues Encountered"})]})}),r.jsx(K,{children:r.jsx("ul",{className:"space-y-2",children:e.commonIssues.map((d,f)=>r.jsxs("li",{className:"flex items-start space-x-2",children:[r.jsx(L,{icon:"mingcute:information-line",className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-white/80 text-sm",children:d})]},f))})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[r.jsx(V,{onClick:a,disabled:o,variant:"outline",className:"bg-transparent text-white border-border hover:border-white/60",children:o?r.jsxs(r.Fragment,{children:[r.jsx(L,{icon:"mingcute:loading-line",className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(L,{icon:"mingcute:download-line",className:"w-4 h-4 mr-2"}),"Export Summary"]})}),n&&r.jsxs(V,{onClick:n,variant:"outline",className:"bg-transparent text-white border-border hover:border-white/60",children:[r.jsx(L,{icon:"mingcute:share-line",className:"w-4 h-4 mr-2"}),"Share"]}),r.jsxs(V,{onClick:t,className:"bg-primary hover:bg-primary/90 text-white",children:[r.jsx(L,{icon:"mingcute:check-line",className:"w-4 h-4 mr-2"}),"Done"]})]})]})})})}function Qh({onShowSessionSummary:e}){const[t,s]=u.useState("welcome"),[n,o]=u.useState(null),[i,a]=u.useState(!1),[c,l]=u.useState(!1),[d,f]=u.useState(null),h=()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;u.useEffect(()=>{if(t==="guidance"&&d){const v=`simis-tutorial-session-${d}`;sessionStorage.getItem(v)||l(!0)}},[t,d]);const m=()=>{if(l(!1),d){const v=`simis-tutorial-session-${d}`;sessionStorage.setItem(v,"completed")}},g=()=>{if(l(!1),d){const v=`simis-tutorial-session-${d}`;sessionStorage.setItem(v,"skipped")}},b=v=>{const y=h();f(y),o(v),s("guidance")},x=()=>{s("welcome"),o(null),f(null)},p=()=>{s("welcome")};return t==="welcome"?r.jsx(Oh,{onStartSession:b,initialAdvancedMode:i,onAdvancedModeChange:a}):t==="guidance"&&n?r.jsxs(r.Fragment,{children:[r.jsx(Mh,{config:n,onBack:x}),r.jsx(_h,{isVisible:c,onComplete:m,onSkip:g})]}):t==="home"?r.jsx(Kn,{onBack:p,sessionConfig:n||void 0,onShowSessionSummary:e}):r.jsxs(xa,{children:[r.jsx(an,{path:"/",component:()=>r.jsx(Kn,{onBack:p,sessionConfig:n||void 0})}),r.jsx(an,{component:Dh})]})}function om(){const[e,t]=u.useState(!1),[s,n]=u.useState(null),o=()=>{n({device:"Digital thermometer",deviceType:"Vital Signs",deviceBrand:"Omron",deviceModel:"MC-246",language:"en",guidanceStyle:"direct",totalSteps:5,completedSteps:0,timeSpent:109,successRate:0,keyLearnings:["Successfully completed 0 out of 0 steps","Device: Digital thermometer","Language: en","Guidance style: direct"],areasForImprovement:[],commonIssues:[]}),t(!0)},i=()=>{t(!1)};return r.jsx(La,{client:Ja,children:r.jsxs(vu,{children:[r.jsx(Wl,{}),r.jsx(Qh,{onShowSessionSummary:o}),e&&s&&r.jsx(qh,{sessionData:s,onClose:i,onExport:()=>console.log("Export session"),onShare:()=>console.log("Share session")})]})})}export{om as default};
